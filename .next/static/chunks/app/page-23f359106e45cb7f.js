(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6816:function(e,t,n){"use strict";var o,a,r=n(6254);function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}t.Z=function(e){return r.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},e),o||(o=r.createElement("defs",null,r.createElement("path",{id:"add_svg__a",d:"M0 0h16v16H0z"}))),r.createElement("g",null,a||(a=r.createElement("mask",{id:"add_svg__b",fill:"#fff"},r.createElement("use",{xlinkHref:"#add_svg__a"}))),r.createElement("g",{mask:"url(#add_svg__b)"},r.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(1.333 1.333)",d:"M13.33 6.67A6.66 6.66 0 0 0 6.67 0C2.98 0 0 2.98 0 6.67a6.66 6.66 0 0 0 6.67 6.66c3.68 0 6.66-2.98 6.66-6.66Z"}),r.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(8 5.333)",d:"M0 0v5.33"}),r.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(5.333 8)",d:"M0 0h5.33"}))))}},8584:function(e,t,n){"use strict";var o,a,r,s,i=n(6254);function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}t.Z=function(e){return i.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:30,height:30,fill:"none"},e),o||(o=i.createElement("defs",null,i.createElement("path",{id:"bot_svg__a",d:"M0 0h30v30H0z"}),i.createElement("path",{id:"bot_svg__c",d:"M0 0h20.455v20.455H0z"}))),i.createElement("g",null,a||(a=i.createElement("rect",{fill:"#E7F8FF",width:30,height:30,rx:10})),r||(r=i.createElement("mask",{id:"bot_svg__b",fill:"#fff"},i.createElement("use",{xlinkHref:"#bot_svg__a"}))),i.createElement("g",{mask:"url(#bot_svg__b)"},i.createElement("g",{transform:"translate(4.773 4.773)"},s||(s=i.createElement("mask",{id:"bot_svg__d",fill:"#fff"},i.createElement("use",{xlinkHref:"#bot_svg__c"}))),i.createElement("g",{mask:"url(#bot_svg__d)"},i.createElement("path",{fillRule:"evenodd",style:{fill:"#1f948c"},d:"M19.11 8.37c.17-.52.26-1.06.26-1.61 0-.9-.24-1.79-.71-2.57a5.24 5.24 0 0 0-4.53-2.59c-.37 0-.73.04-1.09.11A5.201 5.201 0 0 0 9.17 0h-.04C6.86 0 4.86 1.44 4.16 3.57A5.11 5.11 0 0 0 .71 6.04C.24 6.83 0 7.72 0 8.63c0 1.27.48 2.51 1.35 3.45-.18.52-.27 1.07-.27 1.61 0 .91.25 1.8.71 2.58 1.13 1.94 3.41 2.94 5.63 2.47a5.18 5.18 0 0 0 3.86 1.71h.05c2.26 0 4.27-1.44 4.97-3.57a5.132 5.132 0 0 0 3.45-2.47c.46-.78.7-1.67.7-2.58 0-1.28-.48-2.51-1.34-3.46ZM8.947 18.158c-.04.03-.08.05-.12.07.7.58 1.57.89 2.48.89h.01c2.14 0 3.88-1.72 3.88-3.83v-4.76c0-.02-.02-.04-.04-.05l-1.74-.99v5.75c0 .23-.13.45-.34.57l-4.13 2.35Zm-.67-1.153 4.17-2.38c.02-.01.03-.03.03-.05v-1.99l-5.04 2.87c-.21.12-.47.12-.68 0l-4.13-2.35c-.04-.02-.09-.06-.12-.07-.04.21-.06.43-.06.65 0 .67.18 1.33.52 1.92v-.01c.7 1.19 1.98 1.92 3.37 1.92.68 0 1.35-.18 1.94-.51ZM3.903 5.168v-.14c-.85.31-1.57.9-2.02 1.68a3.78 3.78 0 0 0-.52 1.91c0 1.37.74 2.64 1.94 3.33l4.17 2.37c.02.01.04.01.06 0l1.75-1-5.04-2.87a.64.64 0 0 1-.34-.57v-4.71Zm13.253 3.337-4.18-2.38c-.02 0-.04 0-.06.01l-1.74.99 5.04 2.87c.21.12.34.34.34.58v4.85c1.52-.56 2.54-1.99 2.54-3.6 0-1.37-.74-2.63-1.94-3.32ZM8.014 5.83c-.02.01-.03.03-.03.05v1.99L13.024 5a.692.692 0 0 1 .68 0l4.13 2.35c.04.02.08.05.12.07.03-.21.05-.43.05-.65 0-2.11-1.74-3.83-3.88-3.83-.68 0-1.35.18-1.94.51l-4.17 2.38Zm1.133-4.492c-2.15 0-3.89 1.72-3.89 3.83v4.76c0 .02.02.03.03.04l1.75 1v-5.75c0-.23.13-.45.34-.57l4.13-2.35c.04-.03.09-.06.12-.07-.7-.58-1.58-.89-2.48-.89ZM7.983 11.51l2.24 1.27 2.25-1.27V8.95l-2.25-1.28-2.24 1.28v2.56Z"}))))))}},5520:function(e,t,n){"use strict";var o,a,r=n(6254);function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}t.Z=function(e){return r.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},e),o||(o=r.createElement("defs",null,r.createElement("path",{id:"close_svg__a",d:"M0 0h16v16H0z"}))),r.createElement("g",null,a||(a=r.createElement("mask",{id:"close_svg__b",fill:"#fff"},r.createElement("use",{xlinkHref:"#close_svg__a"}))),r.createElement("g",{mask:"url(#close_svg__b)"},r.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(2.667 2.667)",d:"m0 0 10.67 10.67M0 10.67 10.67 0"}))))}},9862:function(e,t,n){"use strict";var o,a,r=n(6254);function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}t.Z=function(e){return r.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",fill:"none",width:14.663,height:14.663},e),r.createElement("g",{style:{mixBlendMode:"passthrough"}},o||(o=r.createElement("path",{d:"M7.337.667c-3.69 0-6.67 2.98-6.67 6.67a6.66 6.66 0 0 0 6.67 6.66c3.68 0 6.66-2.98 6.66-6.66a6.66 6.66 0 0 0-6.66-6.67Z",fillRule:"evenodd",fill:"#D8D8D8",fillOpacity:.01})),a||(a=r.createElement("path",{d:"m10.138 5.471-4.667 4.667q-.046.046-.1.083-.055.036-.116.062-.06.025-.125.038-.064.012-.13.012t-.13-.012q-.064-.013-.125-.038-.06-.026-.115-.062-.055-.037-.101-.083-.047-.046-.083-.101-.037-.055-.062-.115-.025-.06-.038-.125-.013-.065-.013-.13 0-.066.013-.13.013-.065.038-.125.025-.061.062-.116.036-.054.083-.1l4.666-4.667q.047-.047.101-.083.055-.037.116-.062.06-.025.125-.038.064-.013.13-.013.065 0 .13.013.064.013.125.038.06.025.115.062.055.036.101.083.046.046.083.1.036.055.062.116.025.06.038.125.012.064.012.13t-.012.13q-.013.064-.038.125-.026.06-.062.115-.037.055-.083.101ZM5.471 4.53l.667.666q.046.047.083.101.036.055.062.116.025.06.038.125.012.064.012.13 0 .065-.012.13-.013.064-.038.125-.026.06-.062.115-.036.055-.083.101-.046.046-.1.083-.056.036-.116.062-.06.025-.125.038-.065.012-.13.012-.066 0-.13-.012-.065-.013-.125-.038-.061-.026-.116-.062-.054-.036-.1-.083l-.667-.667q-.047-.046-.083-.1-.037-.055-.062-.116-.025-.06-.038-.125-.013-.064-.013-.13t.013-.13q.013-.064.038-.125.025-.06.062-.115.036-.055.083-.101.046-.047.1-.083.055-.037.116-.062.06-.025.125-.038.064-.013.13-.013t.13.013q.064.013.125.038.06.025.115.062.055.036.101.083Zm4 4 .667.666q.046.047.083.101.036.055.062.116.025.06.038.125.012.064.012.13 0 .065-.012.13-.013.064-.038.125-.026.06-.062.115-.036.055-.083.101-.046.046-.1.083-.056.036-.116.062-.06.025-.125.038-.065.012-.13.012-.066 0-.13-.012-.065-.013-.125-.038-.061-.026-.116-.062-.054-.036-.1-.083l-.667-.667q-.047-.046-.083-.1-.037-.055-.062-.116-.025-.06-.038-.125-.013-.064-.013-.13t.013-.13q.013-.064.038-.125.025-.06.062-.115.036-.055.083-.101.046-.047.1-.083.055-.037.116-.062.06-.025.125-.038.064-.013.13-.013t.13.013q.064.013.125.038.06.025.115.062.055.036.101.083Zm3.859-1.192q0-2.491-1.755-4.248-1.754-1.756-4.238-1.756-2.492 0-4.248 1.756-1.756 1.756-1.756 4.248 0 2.484 1.756 4.238 1.757 1.755 4.248 1.755 2.484 0 4.238-1.755 1.755-1.754 1.755-4.238Zm1.333 0q0 3.036-2.145 5.181t-5.181 2.145q-3.043 0-5.19-2.145Q0 10.374 0 7.337q0-3.044 2.147-5.19Q4.293 0 7.337 0q3.037 0 5.181 2.147 2.145 2.147 2.145 5.19ZM10.332 5q0 .066-.013.13t-.038.125q-.025.06-.061.114-.037.055-.083.101-.046.047-.1.083-.055.036-.116.061-.06.025-.125.038-.064.013-.13.013-.065 0-.13-.013-.063-.013-.124-.038-.06-.025-.115-.061-.054-.036-.1-.083-.047-.046-.083-.1-.037-.055-.062-.115-.025-.061-.038-.125-.012-.064-.012-.13 0-.065.012-.13.013-.064.038-.124.025-.061.062-.115.036-.055.082-.101.047-.047.101-.083.055-.036.115-.061.06-.025.125-.038.064-.013.13-.013.065 0 .13.013.064.013.124.038t.115.061q.055.036.1.083.047.046.084.1.036.055.061.116.025.06.038.124.013.065.013.13ZM5.665 9.667q0 .065-.013.13-.013.064-.038.124t-.061.115q-.036.055-.083.1-.046.047-.1.084-.055.036-.116.061-.06.025-.124.038-.064.013-.13.013-.065 0-.13-.013-.064-.013-.124-.038-.061-.025-.115-.061-.055-.037-.101-.083-.047-.046-.083-.1-.036-.055-.061-.116-.025-.06-.038-.125-.013-.064-.013-.13 0-.065.013-.13.013-.063.038-.124.025-.06.061-.115.036-.054.083-.1.046-.047.1-.083.055-.037.116-.062.06-.025.124-.038.065-.012.13-.012.066 0 .13.012.064.013.124.038.061.025.115.062.055.036.101.082.047.047.083.101.036.055.061.115.025.06.038.125.013.064.013.13Zm0-4.667q0 .066-.013.13t-.038.125q-.025.06-.061.114-.036.055-.083.101-.046.047-.1.083-.055.036-.116.061-.06.025-.124.038-.064.013-.13.013-.065 0-.13-.013-.064-.013-.124-.038-.061-.025-.115-.061-.055-.036-.101-.083-.047-.046-.083-.1-.036-.055-.061-.115-.025-.061-.038-.125-.013-.064-.013-.13 0-.065.013-.13.013-.064.038-.124.025-.061.061-.115.036-.055.083-.101.046-.047.1-.083.055-.036.116-.061.06-.025.124-.038.065-.013.13-.013.066 0 .13.013t.124.038q.061.025.115.061.055.036.101.083.047.046.083.1.036.055.061.116.025.06.038.124.013.065.013.13Zm.667.667q0 .065-.013.13-.013.064-.038.124t-.061.115q-.037.055-.083.1-.046.047-.1.084-.055.036-.116.061-.06.025-.125.038-.064.013-.13.013-.065 0-.13-.013-.063-.013-.124-.038-.06-.025-.115-.061-.054-.037-.1-.083-.047-.046-.083-.1-.037-.055-.062-.116-.025-.06-.038-.125-.012-.064-.012-.13 0-.065.012-.13.013-.063.038-.124.025-.06.062-.115.036-.054.082-.1.047-.047.101-.083.055-.037.115-.062.06-.025.125-.038.064-.012.13-.012.065 0 .13.012.064.013.124.038t.115.062q.055.036.1.082.047.047.084.101.036.055.061.115.025.06.038.125.013.064.013.13ZM9.665 9q0 .066-.013.13t-.038.125q-.025.06-.061.114-.036.055-.083.101-.046.047-.1.083-.055.036-.116.061-.06.025-.124.038-.064.013-.13.013-.065 0-.13-.013-.064-.013-.124-.038-.061-.025-.115-.061-.055-.036-.101-.083-.047-.046-.083-.1-.036-.055-.061-.115-.025-.061-.038-.125-.013-.064-.013-.13 0-.065.013-.13.013-.064.038-.124.025-.061.061-.115.036-.055.083-.101.046-.047.1-.083.055-.036.116-.061.06-.025.124-.038.065-.013.13-.013.066 0 .13.013t.124.038q.061.025.115.061.055.036.101.083.047.046.083.1.036.055.061.116.025.06.038.124.013.065.013.13Zm.667.667q0 .065-.013.13-.013.064-.038.124t-.061.115q-.037.055-.083.1-.046.047-.1.084-.055.036-.116.061-.06.025-.125.038-.064.013-.13.013-.065 0-.13-.013-.063-.013-.124-.038-.06-.025-.115-.061-.054-.037-.1-.083-.047-.046-.083-.1-.037-.055-.062-.116-.025-.06-.038-.125-.012-.064-.012-.13 0-.065.012-.13.013-.063.038-.124.025-.06.062-.115.036-.054.082-.1.047-.047.101-.083.055-.037.115-.062.06-.025.125-.038.064-.012.13-.012.065 0 .13.012.064.013.124.038t.115.062q.055.036.1.082.047.047.084.101.036.055.061.115.025.06.038.125.013.064.013.13Z",fill:"var(--primary)"}))))}},359:function(e,t,n){"use strict";var o,a,r,s=n(6254);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}t.Z=function(e){return s.createElement("svg",i({width:30,height:14,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",fill:"#fff"},e),o||(o=s.createElement("circle",{cx:15,cy:15,r:15,fill:"var(--primary, red)"},s.createElement("animate",{attributeName:"r",from:15,to:15,begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),s.createElement("animate",{attributeName:"fill-opacity",from:1,to:1,begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"}))),a||(a=s.createElement("circle",{cx:60,cy:15,r:9,fillOpacity:.3,fill:"var(--primary, red)"},s.createElement("animate",{attributeName:"r",from:9,to:9,begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),s.createElement("animate",{attributeName:"fill-opacity",from:.5,to:.5,begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"}))),r||(r=s.createElement("circle",{cx:105,cy:15,r:15,fill:"var(--primary, red)"},s.createElement("animate",{attributeName:"r",from:15,to:15,begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),s.createElement("animate",{attributeName:"fill-opacity",from:1,to:1,begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"}))))}},47:function(e,t,n){Promise.resolve().then(n.bind(n,4298)),Promise.resolve().then(n.bind(n,6640))},9506:function(e){e.exports={"icon-button":"button_icon-button__BC_Ca",shadow:"button_shadow__Ap98F",border:"button_border__nGPHl","icon-button-icon":"button_icon-button-icon__qlUH3","icon-button-text":"button_icon-button-text__k3vob"}},6551:function(e){e.exports={"prompt-toast":"chat_prompt-toast__v0Ha5","prompt-toast-inner":"chat_prompt-toast-inner__qUzGo","slide-in-from-top":"chat_slide-in-from-top__QIZOS","prompt-toast-content":"chat_prompt-toast-content__tDz2h","context-prompt":"chat_context-prompt__a3Xrj","context-prompt-row":"chat_context-prompt-row__D24xk","context-role":"chat_context-role___RwCJ","context-content":"chat_context-content__3iEuJ","context-delete-button":"chat_context-delete-button__rSrlO","context-prompt-button":"chat_context-prompt-button__MmudR","memory-prompt":"chat_memory-prompt__HLWNg","memory-prompt-title":"chat_memory-prompt-title__eZIzp","memory-prompt-action":"chat_memory-prompt-action__eyGdY","memory-prompt-content":"chat_memory-prompt-content__Zgo_G","slide-in":"chat_slide-in__jGTU7"}},1034:function(e){e.exports={"window-header":"home_window-header__248BE","window-header-title":"home_window-header-title__bJCkO","window-header-main-title":"home_window-header-main-title__Y16Es","window-header-sub-title":"home_window-header-sub-title__9rZM1","window-actions":"home_window-actions__k4f3s","window-action-button":"home_window-action-button__Is6GK",container:"home_container__Myqoy","tight-container":"home_tight-container__sz6zy",sidebar:"home_sidebar__4L4yT","window-content":"home_window-content__RRVow",mobile:"home_mobile__ako7k","sidebar-show":"home_sidebar-show__I77cg","sidebar-header":"home_sidebar-header__b5asC","sidebar-logo":"home_sidebar-logo__FFdBS","sidebar-title":"home_sidebar-title__d8_c_","sidebar-sub-title":"home_sidebar-sub-title__IS2Or","sidebar-body":"home_sidebar-body__zSPJN","chat-item":"home_chat-item__7LfQR","chat-item-selected":"home_chat-item-selected__6TyNm","chat-item-title":"home_chat-item-title__LZXA_","chat-item-delete":"home_chat-item-delete__xQ_8e","chat-item-info":"home_chat-item-info__UAzOv","sidebar-tail":"home_sidebar-tail__R8VX2","sidebar-actions":"home_sidebar-actions__zyNfR","sidebar-action":"home_sidebar-action__JhMu0",chat:"home_chat__7Bh_I","chat-body":"home_chat-body__mbaM8","chat-body-title":"home_chat-body-title__5S8w4","chat-message":"home_chat-message__rdH_g","chat-message-user":"home_chat-message-user__WsuiB","chat-message-container":"home_chat-message-container__plj_e","slide-in":"home_slide-in__gYZA0","chat-message-top-actions":"home_chat-message-top-actions__PfOzb","chat-message-avatar":"home_chat-message-avatar__611lI","chat-message-status":"home_chat-message-status__EsVNi","user-avtar":"home_user-avtar__3QksJ","chat-message-item":"home_chat-message-item__hDEOq","chat-message-top-action":"home_chat-message-top-action__wXKmA","chat-message-actions":"home_chat-message-actions__nrHd1","chat-message-action-date":"home_chat-message-action-date__6ToUp","chat-input-panel":"home_chat-input-panel__kmhBn","prompt-hints":"home_prompt-hints__Nv0JN","prompt-hint":"home_prompt-hint__7bycW","hint-title":"home_hint-title__V1gw6","hint-content":"home_hint-content__GHRmC","prompt-hint-selected":"home_prompt-hint-selected__LI_5l","chat-input-panel-inner":"home_chat-input-panel-inner__8J59p","chat-input":"home_chat-input__qM_hd","chat-input-send":"home_chat-input-send__rsJfH","export-content":"home_export-content__ZTj0v","loading-content":"home_loading-content__tru2c","slide-in-from-top":"home_slide-in-from-top__DysOS"}},9468:function(e){e.exports={card:"ui-lib_card__umMjN",popover:"ui-lib_popover__5cywD","popover-content":"ui-lib_popover-content__gZ0he","slide-in":"ui-lib_slide-in__iob7i","popover-mask":"ui-lib_popover-mask__iViG8","list-item":"ui-lib_list-item__MN4sf",list:"ui-lib_list__uHeWh","modal-container":"ui-lib_modal-container__Ra9HB","modal-header":"ui-lib_modal-header__S9ma8","modal-title":"ui-lib_modal-title__i_dpP","modal-close-btn":"ui-lib_modal-close-btn__mIjOX","modal-content":"ui-lib_modal-content__nFcGO","modal-footer":"ui-lib_modal-footer__J_cgq","modal-actions":"ui-lib_modal-actions__0VvYa","modal-action":"ui-lib_modal-action__12xLt",show:"ui-lib_show__3Gd4p",hide:"ui-lib_hide__GF1sp","toast-container":"ui-lib_toast-container__7epyd","toast-content":"ui-lib_toast-content__XpHSf","toast-action":"ui-lib_toast-action__wO4Lv",input:"ui-lib_input__v_cwR","slide-in-from-top":"ui-lib_slide-in-from-top__Qfsdu"}},2383:function(e,t,n){"use strict";n.d(t,{h:function(){return s}});var o=n(9268);n(6006);var a=n(9506),r=n.n(a);function s(e){var t;return(0,o.jsxs)("button",{className:r()["icon-button"]+" ".concat(e.bordered&&r().border," ").concat(e.shadow&&r().shadow," ").concat(null!==(t=e.className)&&void 0!==t?t:""," clickable"),onClick:e.onClick,title:e.title,disabled:e.disabled,role:"button",children:[(0,o.jsx)("div",{className:r()["icon-button-icon"]+" ".concat(e.noDark&&"no-dark"),children:e.icon}),e.text&&(0,o.jsx)("div",{className:r()["icon-button-text"],children:e.text})]})}},6694:function(e,t,n){"use strict";n.d(t,{qE:function(){return H},en:function(){return L}});var o,a,r,s,i,l,c=n(9268),d=n(9357),u=n(6006),m=n(6254);function h(){return(h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var p=function(e){return m.createElement("svg",h({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},e),o||(o=m.createElement("defs",null,m.createElement("path",{id:"send-white_svg__a",d:"M0 0h16v16H0z"}))),m.createElement("g",null,a||(a=m.createElement("mask",{id:"send-white_svg__b",fill:"#fff"},m.createElement("use",{xlinkHref:"#send-white_svg__a"}))),m.createElement("g",{mask:"url(#send-white_svg__b)"},m.createElement("path",{style:{stroke:"#fff",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(1.333 2)",d:"M0 4.71 6.67 6l1.67 6.67L12.67 0 0 4.71Z"}),m.createElement("path",{style:{stroke:"#fff",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(8.003 6.117)",d:"M0 1.89 1.89 0"}))))};function g(){return(g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var f=function(e){return m.createElement("svg",g({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},e),r||(r=m.createElement("defs",null,m.createElement("path",{id:"return_svg__a",d:"M0 0h16v16H0z"}))),m.createElement("g",null,s||(s=m.createElement("mask",{id:"return_svg__b",fill:"#fff"},m.createElement("use",{xlinkHref:"#return_svg__a"}))),m.createElement("g",{mask:"url(#return_svg__b)"},m.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(2 2.667)",d:"M2.33 0 0 2l2.33 2.33"}),m.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(2 4.667)",d:"M0 0h7.66c2.3 0 4.25 1.87 4.34 4.17.09 2.42-1.91 4.5-4.34 4.5H2"}))))};function v(){return(v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var _=function(e){return m.createElement("svg",v({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},e),i||(i=m.createElement("defs",null,m.createElement("path",{id:"copy_svg__a",d:"M0 0h16v16H0z"}))),m.createElement("g",null,l||(l=m.createElement("mask",{id:"copy_svg__b",fill:"#fff"},m.createElement("use",{xlinkHref:"#copy_svg__a"}))),m.createElement("g",{mask:"url(#copy_svg__b)"},m.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(4.333 1.667)",d:"M0 2.48V.94C0 .42.42 0 .94 0h8.12c.52 0 .94.42.94.94v8.12c0 .52-.42.94-.94.94H7.51"}),m.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(1.667 4.333)",d:"M.94 0C.42 0 0 .42 0 .94v8.12c0 .52.42.94.94.94h8.12c.52 0 .94-.42.94-.94V.94C10 .42 9.58 0 9.06 0H.94Z"}))))},b=n(359),y=n(8584),x=n(6816),C=n(9862),w=n(345),S=n(1777),T=n(4843),k=n.n(T),E=n(6602),j=n(9199),P=n(3648),M=n(2383),A=n(1034),N=n.n(A),I=n(6551),O=n.n(I),z=n(3822);let D=k()(async()=>(0,u.memo)((await Promise.all([n.e(659),n.e(390),n.e(925)]).then(n.bind(n,6925))).Markdown),{loadableGenerated:{webpack:()=>[6925]},loading:()=>(0,c.jsx)(b.Z,{})});function H(e){return((0,w.aK)(e=>e.config),"user"!==e.role)?(0,c.jsx)(y.Z,{className:N()["user-avtar"]}):(0,c.jsx)("div",{children:" "})}function R(e){let t=(0,w.aK)(),n=t.currentSession(),o=n.context,a=e=>{t.updateCurrentSession(t=>{t.context.push(e)})},r=e=>{t.updateCurrentSession(t=>{t.context.splice(e,1)})},s=(e,n)=>{t.updateCurrentSession(t=>{t.context[e]=n})};return(0,c.jsxs)("div",{className:O()["prompt-toast"],children:[e.showToast&&(0,c.jsx)("div",{}),e.showModal&&(0,c.jsx)("div",{className:"modal-mask",children:(0,c.jsx)(z.u_,{title:P.ZP.Context.Edit,onClose:()=>e.setShowModal(!1),actions:[(0,c.jsx)(M.h,{icon:(0,c.jsx)(_,{}),bordered:!0,text:P.ZP.Memory.Reset,onClick:()=>confirm(P.ZP.Memory.ResetConfirm)&&t.resetSession()},"reset"),(0,c.jsx)(M.h,{icon:(0,c.jsx)(_,{}),bordered:!0,text:P.ZP.Memory.Copy,onClick:()=>(0,S.vQ)(n.memoryPrompt)},"copy")],children:(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:O()["context-prompt"],children:[o.map((e,t)=>(0,c.jsxs)("div",{className:O()["context-prompt-row"],children:[(0,c.jsx)("select",{value:e.role,className:O()["context-role"],onChange:n=>s(t,{...e,role:n.target.value}),children:w.K$.map(e=>(0,c.jsx)("option",{value:e,children:e},e))}),(0,c.jsx)(z.II,{value:e.content,type:"text",className:O()["context-content"],rows:1,onInput:n=>s(t,{...e,content:n.currentTarget.value})}),(0,c.jsx)(M.h,{icon:(0,c.jsx)(C.Z,{}),className:O()["context-delete-button"],onClick:()=>r(t),bordered:!0})]},t)),(0,c.jsx)("div",{className:O()["context-prompt-row"],children:(0,c.jsx)(M.h,{icon:(0,c.jsx)(x.Z,{}),text:P.ZP.Context.Add,bordered:!0,className:O()["context-prompt-button"],onClick:()=>a({role:"system",content:"",date:""})})})]}),(0,c.jsxs)("div",{className:O()["memory-prompt"],children:[(0,c.jsxs)("div",{className:O()["memory-prompt-title"],children:[(0,c.jsxs)("span",{children:[P.ZP.Memory.Title," (",n.lastSummarizeIndex," of"," ",n.messages.length,")"]}),(0,c.jsxs)("label",{className:O()["memory-prompt-action"],children:[P.ZP.Memory.Send,(0,c.jsx)("input",{type:"checkbox",checked:n.sendMemory,onChange:()=>t.updateCurrentSession(e=>e.sendMemory=!e.sendMemory)})]})]}),(0,c.jsx)("div",{className:O()["memory-prompt-content"],children:n.memoryPrompt||P.ZP.Memory.EmptyContent})]})]})})})]},"prompt-toast")}function Z(e){return 0===e.prompts.length?null:(0,c.jsx)("div",{className:N()["prompt-hints"],children:e.prompts.map((t,n)=>(0,c.jsxs)("div",{className:N()["prompt-hint"],onClick:()=>e.onPromptSelect(t),children:[(0,c.jsx)("div",{className:N()["hint-title"],children:t.title}),(0,c.jsx)("div",{className:N()["hint-content"],children:t.content})]},t.title+n.toString()))})}function L(e){var t;let n=(0,w.aK)(),[o,a]=(0,w.aK)(e=>[e.currentSession(),e.currentSessionIndex]),r=(0,w.aK)(e=>e.config.fontSize),s=(0,u.useRef)(null),[i,l]=(0,u.useState)(""),[m,h]=(0,u.useState)(""),[g,v]=(0,u.useState)(!1),{submitKey:_,shouldSubmit:y}=function(){let e=(0,w.aK)(e=>e.config),t=e.submitKey;return{submitKey:t,shouldSubmit:t=>"Enter"===t.key&&("Enter"!==t.key||!t.nativeEvent.isComposing)&&(e.submitKey===w.mQ.AltEnter&&t.altKey||e.submitKey===w.mQ.CtrlEnter&&t.ctrlKey||e.submitKey===w.mQ.ShiftEnter&&t.shiftKey||e.submitKey===w.mQ.MetaEnter&&t.metaKey||e.submitKey===w.mQ.Enter&&!t.altKey&&!t.ctrlKey&&!t.shiftKey&&!t.metaKey)}}(),{scrollRef:x,setAutoScroll:C}=function(){let e=(0,u.useRef)(null),[t,n]=(0,u.useState)(!0);return(0,u.useLayoutEffect)(()=>{let n=e.current;n&&t&&setTimeout(()=>n.scrollTop=n.scrollHeight,1)}),{scrollRef:e,autoScroll:t,setAutoScroll:n}}(),[T,k]=(0,u.useState)(!1),A=e=>{let t=e.scrollTop+e.clientHeight>=e.scrollHeight-20;k(t)},I=(0,j.f5)(),[O,z]=(0,u.useState)([]),L=(0,d.y1)(e=>{z(I.search(e))},100,{leading:!0,trailing:!0}),U=e=>{var t;l(e.content),z([]),null===(t=s.current)||void 0===t||t.focus()},q=()=>{let e=s.current;if(!e)return;let t=parseInt(window.getComputedStyle(e).paddingBottom,10);e.scrollTop=e.scrollHeight-e.offsetHeight+t},[B,F]=(0,u.useState)(2),K=(0,d.y1)(()=>{let e=s.current?(0,S.lx)(s.current):1,t=Math.min(5,Math.max(2+Number(!(0,S.Av)()),e));F(t)},100,{leading:!0,trailing:!0});(0,u.useEffect)(K,[i]);let G=e=>{q(),l(e);let t=e.trim().length;0===t?z([]):!n.config.disablePromptHint&&t<30&&e.startsWith("/")&&L(e.slice(1))},W=()=>{var e;i.length<=0||(v(!0),n.onUserInput(i).then(()=>v(!1)),h(i),l(""),z([]),(0,S.Av)()||null===(e=s.current)||void 0===e||e.focus(),C(!0))},Q=e=>{E.u4.stop(a,e)},V=e=>{if("ArrowUp"===e.key&&i.length<=0){l(m),e.preventDefault();return}y(e)&&(W(),e.preventDefault())},Y=(e,t)=>{"user"===t.role&&l(t.content),(0,S.Ri)(e.currentTarget,t.content)&&e.preventDefault()},J=e=>{for(let o=e;o>=0;o-=1)if("user"===ee[o].role){var t;v(!0),n.onUserInput(ee[o].content).then(()=>v(!1)),n.updateCurrentSession(e=>e.messages.splice(o,2)),null===(t=s.current)||void 0===t||t.focus();return}},X=(0,w.aK)(e=>e.config),$=o.context.slice();0===$.length&&(null===(t=o.messages.at(0))||void 0===t?void 0:t.content)!==w.ux.content&&$.push(w.ux);let ee=$.concat(o.messages).concat(g?[{...(0,w.tn)({role:"assistant",content:"……"}),preview:!0}]:[]).concat(i.length>0&&X.sendPreviewBubble?[{...(0,w.tn)({role:"user",content:i}),preview:!0}]:[]),[et,en]=(0,u.useState)(!1);return(0,u.useEffect)(()=>{var t;e.sideBarShowing&&(0,S.Av)()||null===(t=s.current)||void 0===t||t.focus()},[]),(0,c.jsxs)("div",{className:N().chat,children:[(0,c.jsxs)("div",{className:N()["window-header"],children:[(0,c.jsxs)("div",{className:N()["window-header-title"],children:[(0,c.jsx)("div",{className:"".concat(N()["window-header-main-title"]," ").concat(N()["chat-body-title"]),onClickCapture:()=>{let e=prompt(P.ZP.Chat.Rename,o.topic);e&&e!==o.topic&&n.updateCurrentSession(t=>t.topic=e)},children:o.topic}),(0,c.jsx)("div",{className:N()["window-header-sub-title"],children:P.ZP.Chat.SubTitle(o.messages.length)})]}),(0,c.jsx)("div",{className:N()["window-actions"],children:(0,c.jsx)("div",{className:N()["window-action-button"]+" "+N().mobile,children:(0,c.jsx)(M.h,{icon:(0,c.jsx)(f,{}),bordered:!0,title:P.ZP.Chat.Actions.ChatList,onClick:null==e?void 0:e.showSideBar})})}),(0,c.jsx)(R,{showToast:!T,showModal:et,setShowModal:en})]}),(0,c.jsx)("div",{className:N()["chat-body"],ref:x,onScroll:e=>A(e.currentTarget),onWheel:e=>C(T&&e.deltaY>0),onTouchStart:()=>{var e;null===(e=s.current)||void 0===e||e.blur(),C(!1)},children:ee.map((e,t)=>{var n;let o="user"===e.role;return(0,c.jsx)("div",{className:o?N()["chat-message-user"]:N()["chat-message"],children:(0,c.jsxs)("div",{className:N()["chat-message-container"],children:[(0,c.jsx)("div",{className:N()["chat-message-avatar"],children:(0,c.jsx)(H,{role:e.role})}),(e.preview||e.streaming)&&(0,c.jsx)("div",{className:N()["chat-message-status"],children:P.ZP.Chat.Typing}),(0,c.jsxs)("div",{className:N()["chat-message-item"],children:[!o&&!(e.preview||0===e.content.length)&&(0,c.jsxs)("div",{className:N()["chat-message-top-actions"],children:[e.streaming?(0,c.jsx)("div",{className:N()["chat-message-top-action"],onClick:()=>Q(null!==(n=e.id)&&void 0!==n?n:t),children:P.ZP.Chat.Actions.Stop}):(0,c.jsx)("div",{className:N()["chat-message-top-action"],onClick:()=>J(t)}),(0,c.jsx)("div",{className:N()["chat-message-top-action"],onClick:()=>(0,S.vQ)(e.content)})]}),(e.preview||0===e.content.length)&&!o?(0,c.jsx)(b.Z,{}):(0,c.jsx)("div",{className:"markdown-body",style:{fontSize:"".concat(r,"px")},onContextMenu:t=>Y(t,e),onDoubleClickCapture:()=>{(0,S.Av)()&&l(e.content)},children:(0,c.jsx)(D,{content:e.content})})]}),!o&&!e.preview&&(0,c.jsx)("div",{className:N()["chat-message-actions"],children:(0,c.jsx)("div",{className:N()["chat-message-action-date"],children:e.date.toLocaleString()})})]})},t)})}),(0,c.jsxs)("div",{className:N()["chat-input-panel"],children:[(0,c.jsx)(Z,{prompts:O,onPromptSelect:U}),(0,c.jsxs)("div",{className:N()["chat-input-panel-inner"],children:[(0,c.jsx)("textarea",{ref:s,className:N()["chat-input"],placeholder:P.ZP.Chat.Input(_),onInput:e=>G(e.currentTarget.value),value:i,onKeyDown:V,onFocus:()=>C(!0),onBlur:()=>{C(!1),setTimeout(()=>z([]),500)},autoFocus:!(null==e?void 0:e.sideBarShowing),rows:B}),(0,c.jsx)(M.h,{icon:(0,c.jsx)(p,{}),text:P.ZP.Chat.Send,className:N()["chat-input-send"],noDark:!0,onClick:W})]})]})]},o.id)}k()(async()=>(await Promise.all([n.e(956),n.e(791)]).then(n.bind(n,3031))).Emoji,{loadableGenerated:{webpack:()=>[3031]},loading:()=>(0,c.jsx)(b.Z,{})})},2650:function(e,t,n){"use strict";n.d(t,{S:function(){return m}});var o,a,r=n(9268),s=n(6006),i=n(2383),l=n(6254);function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var d=function(e){return l.createElement("svg",c({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},e),o||(o=l.createElement("defs",null,l.createElement("path",{id:"github_svg__a",d:"M0 0h16v16H0z"}))),l.createElement("g",null,a||(a=l.createElement("mask",{id:"github_svg__b",fill:"#fff"},l.createElement("use",{xlinkHref:"#github_svg__a"}))),l.createElement("g",{mask:"url(#github_svg__b)"},l.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(2.667 1.645)",d:"M7.11 8.51c.81-.16 1.53-.45 2.1-.87.96-.73 1.46-1.85 1.46-2.95 0-.78-.3-1.5-.81-2.11-.28-.34.55-2.89-.19-2.55-.73.34-1.81 1.1-2.38.94C6.68.79 6.02.69 5.33.69c-.6 0-1.17.07-1.71.21-.79.2-1.53-.54-2.29-.87C.58-.29.99 2.34.77 2.62.28 3.22 0 3.93 0 4.69c0 1.1.6 2.22 1.56 2.95.65.48 1.45.78 2.35.94"}),l.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(6 10.22)",d:"M.58 0C.19.43 0 .83 0 1.21v2.91"}),l.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(9.782 10.159)",d:"M0 0c.37.48.55.91.55 1.29v2.89"}),l.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(2 10.405)",d:"M0 0c.3.04.52.17.67.41C.88.77 1.69 2.1 2.61 2.1H4"}))))},u=n(4240);class m extends s.Component{componentDidCatch(e,t){this.setState({hasError:!0,error:e,info:t})}render(){if(this.state.hasError){var e,t;return(0,r.jsxs)("div",{className:"error",children:[(0,r.jsx)("h2",{children:"Oops, something went wrong!"}),(0,r.jsxs)("pre",{children:[(0,r.jsx)("code",{children:null===(e=this.state.error)||void 0===e?void 0:e.toString()}),(0,r.jsx)("code",{children:null===(t=this.state.info)||void 0===t?void 0:t.componentStack})]}),(0,r.jsx)("a",{href:u.TH,className:"report",children:(0,r.jsx)(i.h,{text:"Report This Error",icon:(0,r.jsx)(d,{}),bordered:!0})})]})}return this.props.children}constructor(e){super(e),this.state={hasError:!1,error:null,info:null}}}},6640:function(e,t,n){"use strict";n.r(t),n.d(t,{Home:function(){return A},Loading:function(){return k}});var o,a,r=n(9268),s=n(6006),i=n(2383),l=n(1034),c=n.n(l),d=n(6254);function u(){return(u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var m=function(e){return d.createElement("svg",u({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},e),o||(o=d.createElement("defs",null,d.createElement("path",{id:"settings_svg__a",d:"M0 0h16v16H0z"}))),d.createElement("g",null,a||(a=d.createElement("mask",{id:"settings_svg__b",fill:"#fff"},d.createElement("use",{xlinkHref:"#settings_svg__a"}))),d.createElement("g",{mask:"url(#settings_svg__b)"},d.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(1.333 2.333)",d:"M13.33 5.67 10 0H3.33L0 5.67l3.33 5.66H10l3.33-5.66Z"}),d.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(6.333 6.333)",d:"M3.33 1.67C3.33.75 2.59 0 1.67 0 .75 0 0 .75 0 1.67c0 .92.75 1.66 1.67 1.66.92 0 1.66-.74 1.66-1.66Z"}))))},h=n(8584),p=n(6816),g=n(359),f=n(5520),v=n(345),_=n(1777),b=n(3648),y=n(6694),x=n(4843),C=n.n(x),w=n(2650),S=n(6394),T=n.n(S);function k(e){return(0,r.jsxs)("div",{className:c()["loading-content"],children:[!e.noLogo&&(0,r.jsx)(h.Z,{}),(0,r.jsx)(g.Z,{})]})}n(2508);let E=C()(async()=>(await Promise.all([n.e(956),n.e(106)]).then(n.bind(n,1890))).Settings,{loadableGenerated:{webpack:()=>[1890]},loading:()=>(0,r.jsx)(k,{noLogo:!0})}),j=C()(async()=>(await Promise.all([n.e(201),n.e(602),n.e(45)]).then(n.bind(n,6045))).ChatList,{loadableGenerated:{webpack:()=>[6045]},loading:()=>(0,r.jsx)(k,{noLogo:!0})}),P=()=>{let[e,t]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{t(!0)},[]),e};function M(){let[e,t,n]=(0,v.aK)(e=>[e.newSession,e.currentSessionIndex,e.removeSession]),o=(0,v.aK)(),a=!P(),[l,d]=(0,s.useState)(!0),[u,h]=(0,s.useState)(!1),g=(0,v.aK)(e=>e.config);return(!function(){let e=(0,v.aK)(e=>e.config);(0,s.useEffect)(()=>{document.body.classList.remove("light"),document.body.classList.remove("dark"),"dark"===e.theme?document.body.classList.add("dark"):"light"===e.theme&&document.body.classList.add("light");let t=document.querySelector('meta[name="theme-color"][media]'),n=document.querySelector('meta[name="theme-color"]:not([media])');if("auto"===e.theme)null==t||t.setAttribute("content","#151515"),null==n||n.setAttribute("content","#fafafa");else{let e=getComputedStyle(document.body).getPropertyValue("--theme-color").trim();null==t||t.setAttribute("content",e),null==n||n.setAttribute("content",e)}},[e.theme])}(),a)?(0,r.jsx)(k,{}):(0,r.jsxs)("div",{className:"".concat(g.tightBorder&&!(0,_.Av)()?c()["tight-container"]:c().container),children:[(0,r.jsxs)("div",{className:c().sidebar+" ".concat(l&&c()["sidebar-show"]),children:[(0,r.jsxs)("div",{className:c()["sidebar-header"],children:[(0,r.jsx)("div",{className:c()["sidebar-title"],children:"AI Assistant"}),(0,r.jsx)("div",{className:c()["sidebar-sub-title"]}),(0,r.jsx)("div",{className:c()["sidebar-logo"],children:(0,r.jsx)(T(),{src:"/wechat.png",alt:"",width:50,height:50})})]}),(0,r.jsx)("div",{className:c()["sidebar-body"],onClick:()=>{h(!1),d(!1)},children:(0,r.jsx)(j,{})}),(0,r.jsxs)("div",{className:c()["sidebar-tail"],children:[(0,r.jsxs)("div",{className:c()["sidebar-actions"],children:[(0,r.jsx)("div",{className:c()["sidebar-action"]+" "+c().mobile,children:(0,r.jsx)(i.h,{icon:(0,r.jsx)(f.Z,{}),onClick:o.deleteSession})}),(0,r.jsx)("div",{className:c()["sidebar-action"],children:(0,r.jsx)(i.h,{icon:(0,r.jsx)(m,{}),onClick:()=>{h(!0),d(!1)},shadow:!0})})]}),(0,r.jsx)("div",{children:(0,r.jsx)(i.h,{icon:(0,r.jsx)(p.Z,{}),text:b.ZP.Home.NewChat,onClick:()=>{e(),d(!1)},shadow:!0})})]})]}),(0,r.jsx)("div",{className:c()["window-content"],children:u?(0,r.jsx)(E,{closeSettings:()=>{h(!1),d(!0)}}):(0,r.jsx)(y.en,{showSideBar:()=>d(!0),sideBarShowing:l},"chat")})]})}function A(){return(0,r.jsx)(w.S,{children:(0,r.jsx)(M,{})})}},3822:function(e,t,n){"use strict";n.d(t,{CF:function(){return h},HC:function(){return c},II:function(){return p},J2:function(){return l},aV:function(){return d},u_:function(){return u}});var o=n(9268),a=n(9468),r=n.n(a);n(359);var s=n(5520),i=n(3194);function l(e){return(0,o.jsxs)("div",{className:r().popover,children:[e.children,e.open&&(0,o.jsxs)("div",{className:r()["popover-content"],children:[(0,o.jsx)("div",{className:r()["popover-mask"],onClick:e.onClose}),e.content]})]})}function c(e){if(e.children.length>2)throw Error("Only Support Two Children");return(0,o.jsx)("div",{className:r()["list-item"],children:e.children})}function d(e){return(0,o.jsx)("div",{className:r().list,children:e.children})}function u(e){var t;return(0,o.jsxs)("div",{className:r()["modal-container"],children:[(0,o.jsxs)("div",{className:r()["modal-header"],children:[(0,o.jsx)("div",{className:r()["modal-title"],children:e.title}),(0,o.jsx)("div",{className:r()["modal-close-btn"],onClick:e.onClose,children:(0,o.jsx)(s.Z,{})})]}),(0,o.jsx)("div",{className:r()["modal-content"],children:e.children}),(0,o.jsx)("div",{className:r()["modal-footer"],children:(0,o.jsx)("div",{className:r()["modal-actions"],children:null===(t=e.actions)||void 0===t?void 0:t.map((e,t)=>(0,o.jsx)("div",{className:r()["modal-action"],children:e},t))})})]})}function m(e){return(0,o.jsx)("div",{className:r()["toast-container"],children:(0,o.jsxs)("div",{className:r()["toast-content"],children:[(0,o.jsx)("span",{children:e.content}),e.action&&(0,o.jsx)("button",{onClick:e.action.onClick,className:r()["toast-action"],children:e.action.text})]})})}function h(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3,a=document.createElement("div");a.className=r().show,document.body.appendChild(a);let s=(0,i.createRoot)(a),l=()=>{a.classList.add(r().hide),setTimeout(()=>{s.unmount(),a.remove()},300)};setTimeout(()=>{l()},n),s.render((0,o.jsx)(m,{content:e,action:t}))}function p(e){return(0,o.jsx)("textarea",{...e,className:"".concat(r().input," ").concat(e.className)})}n(6006)},4240:function(e,t,n){"use strict";n.d(t,{TE:function(){return s},TH:function(){return r}});let o="Yidadaa",a="ChatGPT-Next-Web";"https://github.com/".concat(o,"/").concat(a);let r="https://github.com/".concat(o,"/").concat(a,"/issues"),s="https://api.github.com/repos/".concat(o,"/").concat(a,"/commits?per_page=1");"https://api.github.com/repos/".concat(o,"/").concat(a,"/tags?per_page=1")},3648:function(e,t,n){"use strict";n.d(t,{DC:function(){return a},t4:function(){return i},ZP:function(){return l},VQ:function(){return s}});var o=n(2981);let a=["en","cn","tw","es","it"],r="lang";function s(){let e=function(e){try{return localStorage.getItem(e)}catch(e){return null}}(r);if(a.includes(null!=e?e:""))return e;let t=function(){try{return navigator.language.toLowerCase()}catch(e){return"cn"}}();return t.includes("zh")||t.includes("cn")?"cn":t.includes("tw")?"tw":t.includes("es")?"es":t.includes("it")?"it":"en"}function i(e){!function(e,t){try{localStorage.setItem(e,t)}catch(e){}}(r,e),location.reload()}var l={en:{WIP:"WIP...",Error:{Unauthorized:"Unauthorized access, please enter access code in settings page."},ChatItem:{ChatItemCount:e=>"".concat(e," messages")},Chat:{SubTitle:e=>"".concat(e," messages with ChatGPT"),Actions:{ChatList:"Go To Chat List",CompressedHistory:"Compressed History Memory Prompt",Export:"Export All Messages as Markdown",Copy:"Copy",Stop:"Stop",Retry:"Retry"},Rename:"Rename Chat",Typing:"Typing…",Input:e=>{var t="".concat(e," to send");return e===String(o.mQ.Enter)&&(t+=", Shift + Enter to wrap"),t+", / to search prompts"},Send:"Send"},Export:{Title:"All Messages",Copy:"Copy All",Download:"Download",MessageFromYou:"Message From You",MessageFromChatGPT:"Message From ChatGPT"},Memory:{Title:"Memory Prompt",EmptyContent:"Nothing yet.",Send:"Send Memory",Copy:"Copy Memory",Reset:"Reset Session",ResetConfirm:"Resetting will clear the current conversation history and historical memory. Are you sure you want to reset?"},Home:{NewChat:"New Chat",DeleteChat:"Confirm to delete the selected conversation?",DeleteToast:"Chat Deleted",Revert:"Revert"},Settings:{Title:"Settings",SubTitle:"All Settings",Actions:{ClearAll:"Clear All Data",ResetAll:"Reset All Settings",Close:"Close"},Lang:{Name:"Language",Options:{cn:"简体中文",en:"English",tw:"繁體中文",es:"Espa\xf1ol",it:"Italiano"}},Avatar:"Avatar",FontSize:{Title:"Font Size",SubTitle:"Adjust font size of chat content"},Update:{Version:e=>"Version: ".concat(e),IsLatest:"Latest version",CheckUpdate:"Check Update",IsChecking:"Checking update...",FoundUpdate:e=>"Found new version: ".concat(e),GoToUpdate:"Update"},SendKey:"Send Key",Theme:"Theme",TightBorder:"Tight Border",SendPreviewBubble:"Send Preview Bubble",Prompt:{Disable:{Title:"Disable auto-completion",SubTitle:"Input / to trigger auto-completion"},List:"Prompt List",ListCount:(e,t)=>"".concat(e," built-in, ").concat(t," user-defined"),Edit:"Edit"},HistoryCount:{Title:"Attached Messages Count",SubTitle:"Number of sent messages attached per request"},CompressThreshold:{Title:"History Compression Threshold",SubTitle:"Will compress if uncompressed messages length exceeds the value"},Token:{Title:"API Key",SubTitle:"Use your key to ignore access code limit",Placeholder:"OpenAI API Key"},Usage:{Title:"Account Balance",SubTitle:(e,t)=>"Used this month $".concat(e,", subscription $").concat(t),IsChecking:"Checking...",Check:"Check Again",NoAccess:"Enter API Key to check balance"},AccessCode:{Title:"Access Code",SubTitle:"Access control enabled",Placeholder:"Need Access Code"},Model:"Model",Temperature:{Title:"Temperature",SubTitle:"A larger value makes the more random output"},MaxTokens:{Title:"Max Tokens",SubTitle:"Maximum length of input tokens and generated tokens"},PresencePenlty:{Title:"Presence Penalty",SubTitle:"A larger value increases the likelihood to talk about new topics"}},Store:{DefaultTopic:"New Conversation",BotHello:"Hello! How can I assist you today?",Error:"Something went wrong, please try again later.",Prompt:{History:e=>"This is a summary of the chat history between the AI and the user as a recap: "+e,Topic:"Please generate a four to five word title summarizing our conversation without any lead-in, punctuation, quotation marks, periods, symbols, or additional text. Remove enclosing quotation marks.",Summarize:"Summarize our discussion briefly in 200 words or less to use as a prompt for future context."},ConfirmClearAll:"Confirm to clear all chat and setting data?"},Copy:{Success:"Copied to clipboard",Failed:"Copy failed, please grant permission to access clipboard"},Context:{Toast:e=>"With ".concat(e," contextual prompts"),Edit:"Contextual and Memory Prompts",Add:"Add One"}},cn:{WIP:"该功能仍在开发中……",Error:{Unauthorized:"现在是未授权状态，请在设置页输入访问密码。"},ChatItem:{ChatItemCount:e=>"".concat(e," 条对话")},Chat:{SubTitle:e=>"与 ChatGPT 的 ".concat(e," 条对话"),Actions:{ChatList:"查看消息列表",CompressedHistory:"查看压缩后的历史 Prompt",Export:"导出聊天记录",Copy:"复制",Stop:"停止",Retry:"重试"},Rename:"重命名对话",Typing:"正在输入…",Input:e=>{var t="".concat(e," 发送");return e===String(o.mQ.Enter)&&(t+="，Shift + Enter 换行"),t+"，/ 触发补全"},Send:"发送"},Export:{Title:"导出聊天记录为 Markdown",Copy:"全部复制",Download:"下载文件",MessageFromYou:"来自你的消息",MessageFromChatGPT:"来自 ChatGPT 的消息"},Memory:{Title:"历史记忆",EmptyContent:"尚未记忆",Send:"发送记忆",Copy:"复制记忆",Reset:"重置对话",ResetConfirm:"重置后将清空当前对话记录以及历史记忆，确认重置？"},Home:{NewChat:"新的聊天",DeleteChat:"确认删除选中的对话？",DeleteToast:"已删除会话",Revert:"撤销"},Settings:{Title:"设置",SubTitle:"设置选项",Actions:{ClearAll:"清除所有数据",ResetAll:"重置所有选项",Close:"关闭"},Lang:{Name:"Language",Options:{cn:"简体中文",en:"English",tw:"繁體中文",es:"Espa\xf1ol",it:"Italiano"}},Avatar:"头像",FontSize:{Title:"字体大小",SubTitle:"聊天内容的字体大小"},Update:{Version:e=>"当前版本：".concat(e),IsLatest:"已是最新版本",CheckUpdate:"检查更新",IsChecking:"正在检查更新...",FoundUpdate:e=>"发现新版本：".concat(e),GoToUpdate:"前往更新"},SendKey:"发送键",Theme:"主题",TightBorder:"紧凑边框",SendPreviewBubble:"发送预览气泡",Prompt:{Disable:{Title:"禁用提示词自动补全",SubTitle:"在输入框开头输入 / 即可触发自动补全"},List:"自定义提示词列表",ListCount:(e,t)=>"内置 ".concat(e," 条，用户定义 ").concat(t," 条"),Edit:"编辑"},HistoryCount:{Title:"附带历史消息数",SubTitle:"每次请求携带的历史消息数"},CompressThreshold:{Title:"历史消息长度压缩阈值",SubTitle:"当未压缩的历史消息超过该值时，将进行压缩"},Token:{Title:"API Key",SubTitle:"使用自己的 Key 可绕过密码访问限制",Placeholder:"OpenAI API Key"},Usage:{Title:"余额查询",SubTitle:(e,t)=>"本月已使用 $".concat(e,"，订阅总额 $").concat(t),IsChecking:"正在检查…",Check:"重新检查",NoAccess:"输入 API Key 或访问密码查看余额"},AccessCode:{Title:"访问密码",SubTitle:"",Placeholder:"请输入访问密码"},Model:"模型 (model)",Temperature:{Title:"随机性 (temperature)",SubTitle:"值越大，回复越随机，大于 1 的值可能会导致乱码"},MaxTokens:{Title:"单次回复限制 (max_tokens)",SubTitle:"单次交互所用的最大 Token 数"},PresencePenlty:{Title:"话题新鲜度 (presence_penalty)",SubTitle:"值越大，越有可能扩展到新话题"}},Store:{DefaultTopic:"新的聊天",BotHello:"有什么可以帮你的吗",Error:"出错了，稍后重试吧",Prompt:{History:e=>"这是 ai 和用户的历史聊天总结作为前情提要："+e,Topic:"使用四到五个字直接返回这句话的简要主题，不要解释、不要标点、不要语气词、不要多余文本，如果没有主题，请直接返回“闲聊”",Summarize:"简要总结一下你和用户的对话，用作后续的上下文提示 prompt，控制在 200 字以内"},ConfirmClearAll:"确认清除所有聊天、设置数据？"},Copy:{Success:"已写入剪切板",Failed:"复制失败，请赋予剪切板权限"},Context:{Toast:e=>"已设置 ".concat(e," 条前置上下文"),Edit:"前置上下文和历史记忆",Add:"新增一条"}},tw:{WIP:"該功能仍在開發中……",Error:{Unauthorized:"目前您的狀態是未授權，請前往設定頁面輸入授權碼。"},ChatItem:{ChatItemCount:e=>"".concat(e," 條對話")},Chat:{SubTitle:e=>"您已經與 ChatGPT 進行了 ".concat(e," 條對話"),Actions:{ChatList:"查看消息列表",CompressedHistory:"查看壓縮後的歷史 Prompt",Export:"匯出聊天紀錄",Copy:"複製",Stop:"停止",Retry:"重試"},Rename:"重命名對話",Typing:"正在輸入…",Input:e=>{var t="輸入訊息後，按下 ".concat(e," 鍵即可發送");return e===String(o.mQ.Enter)&&(t+="，Shift + Enter 鍵換行"),t},Send:"發送"},Export:{Title:"匯出聊天記錄為 Markdown",Copy:"複製全部",Download:"下載檔案",MessageFromYou:"來自你的訊息",MessageFromChatGPT:"來自 ChatGPT 的訊息"},Memory:{Title:"上下文記憶 Prompt",EmptyContent:"尚未記憶",Copy:"複製全部",Send:"發送記憶",Reset:"重置對話",ResetConfirm:"重置後將清空當前對話記錄以及歷史記憶，確認重置？"},Home:{NewChat:"新的對話",DeleteChat:"確定要刪除選取的對話嗎？",DeleteToast:"已刪除對話",Revert:"撤銷"},Settings:{Title:"設定",SubTitle:"設定選項",Actions:{ClearAll:"清除所有數據",ResetAll:"重置所有設定",Close:"關閉"},Lang:{Name:"Language",Options:{cn:"简体中文",en:"English",tw:"繁體中文",es:"Espa\xf1ol",it:"Italiano"}},Avatar:"大頭貼",FontSize:{Title:"字型大小",SubTitle:"聊天內容的字型大小"},Update:{Version:e=>"當前版本：".concat(e),IsLatest:"已是最新版本",CheckUpdate:"檢查更新",IsChecking:"正在檢查更新...",FoundUpdate:e=>"發現新版本：".concat(e),GoToUpdate:"前往更新"},SendKey:"發送鍵",Theme:"主題",TightBorder:"緊湊邊框",SendPreviewBubble:"發送預覽氣泡",Prompt:{Disable:{Title:"停用提示詞自動補全",SubTitle:"在輸入框開頭輸入 / 即可觸發自動補全"},List:"自定義提示詞列表",ListCount:(e,t)=>"內置 ".concat(e," 條，用戶定義 ").concat(t," 條"),Edit:"編輯"},HistoryCount:{Title:"附帶歷史訊息數",SubTitle:"每次請求附帶的歷史訊息數"},CompressThreshold:{Title:"歷史訊息長度壓縮閾值",SubTitle:"當未壓縮的歷史訊息超過該值時，將進行壓縮"},Token:{Title:"API Key",SubTitle:"使用自己的 Key 可規避授權訪問限制",Placeholder:"OpenAI API Key"},Usage:{Title:"帳戶餘額",SubTitle:(e,t)=>"本月已使用 $".concat(e,"，订阅总额 $").concat(t),IsChecking:"正在檢查…",Check:"重新檢查",NoAccess:"輸入API Key查看餘額"},AccessCode:{Title:"授權碼",SubTitle:"現在是未授權訪問狀態",Placeholder:"請輸入授權碼"},Model:"模型 (model)",Temperature:{Title:"隨機性 (temperature)",SubTitle:"值越大，回復越隨機"},MaxTokens:{Title:"單次回復限制 (max_tokens)",SubTitle:"單次交互所用的最大 Token 數"},PresencePenlty:{Title:"話題新穎度 (presence_penalty)",SubTitle:"值越大，越有可能擴展到新話題"}},Store:{DefaultTopic:"新的對話",BotHello:"請問需要我的協助嗎？",Error:"出錯了，請稍後再嘗試",Prompt:{History:e=>"這是 AI 與用戶的歷史聊天總結，作為前情提要："+e,Topic:"直接返回這句話的簡要主題，無須解釋，若無主題，請直接返回「閒聊」",Summarize:"簡要總結一下你和用戶的對話，作為後續的上下文提示 prompt，且字數控制在 200 字以內"},ConfirmClearAll:"確認清除所有對話、設定數據？"},Copy:{Success:"已複製到剪貼簿中",Failed:"複製失敗，請賦予剪貼簿權限"},Context:{Toast:e=>"已設置 ".concat(e," 條前置上下文"),Edit:"前置上下文和歷史記憶",Add:"新增壹條"}},es:{WIP:"En construcci\xf3n...",Error:{Unauthorized:"Acceso no autorizado, por favor ingrese el c\xf3digo de acceso en la p\xe1gina de configuraci\xf3n."},ChatItem:{ChatItemCount:e=>"".concat(e," mensajes")},Chat:{SubTitle:e=>"".concat(e," mensajes con ChatGPT"),Actions:{ChatList:"Ir a la lista de chats",CompressedHistory:"Historial de memoria comprimido",Export:"Exportar todos los mensajes como Markdown",Copy:"Copiar",Stop:"Detener",Retry:"Reintentar"},Rename:"Renombrar chat",Typing:"Escribiendo...",Input:e=>{var t="Escribe algo y presiona ".concat(e," para enviar");return e===String(o.mQ.Enter)&&(t+=", presiona Shift + Enter para nueva l\xednea"),t},Send:"Enviar"},Export:{Title:"Todos los mensajes",Copy:"Copiar todo",Download:"Descargar",MessageFromYou:"Mensaje de ti",MessageFromChatGPT:"Mensaje de ChatGPT"},Memory:{Title:"Historial de memoria",EmptyContent:"A\xfan no hay nada.",Copy:"Copiar todo",Send:"Send Memory",Reset:"Reset Session",ResetConfirm:"Resetting will clear the current conversation history and historical memory. Are you sure you want to reset?"},Home:{NewChat:"Nuevo chat",DeleteChat:"\xbfConfirmar eliminaci\xf3n de la conversaci\xf3n seleccionada?",DeleteToast:"Chat Deleted",Revert:"Revert"},Settings:{Title:"Configuraci\xf3n",SubTitle:"Todas las configuraciones",Actions:{ClearAll:"Borrar todos los datos",ResetAll:"Restablecer todas las configuraciones",Close:"Cerrar"},Lang:{Name:"Language",Options:{cn:"简体中文",en:"Ingl\xe9s",tw:"繁體中文",es:"Espa\xf1ol",it:"Italiano"}},Avatar:"Avatar",FontSize:{Title:"Tama\xf1o de fuente",SubTitle:"Ajustar el tama\xf1o de fuente del contenido del chat"},Update:{Version:e=>"Versi\xf3n: ".concat(e),IsLatest:"\xdaltima versi\xf3n",CheckUpdate:"Buscar actualizaciones",IsChecking:"Buscando actualizaciones...",FoundUpdate:e=>"Se encontr\xf3 una nueva versi\xf3n: ".concat(e),GoToUpdate:"Actualizar"},SendKey:"Tecla de env\xedo",Theme:"Tema",TightBorder:"Borde ajustado",SendPreviewBubble:"Enviar burbuja de vista previa",Prompt:{Disable:{Title:"Desactivar autocompletado",SubTitle:"Escribe / para activar el autocompletado"},List:"Lista de autocompletado",ListCount:(e,t)=>"".concat(e," incorporado, ").concat(t," definido por el usuario"),Edit:"Editar"},HistoryCount:{Title:"Cantidad de mensajes adjuntos",SubTitle:"N\xfamero de mensajes enviados adjuntos por solicitud"},CompressThreshold:{Title:"Umbral de compresi\xf3n de historial",SubTitle:"Se comprimir\xe1n los mensajes si la longitud de los mensajes no comprimidos supera el valor"},Token:{Title:"Clave de API",SubTitle:"Utiliza tu clave para ignorar el l\xedmite de c\xf3digo de acceso",Placeholder:"Clave de la API de OpenAI"},Usage:{Title:"Saldo de la cuenta",SubTitle:(e,t)=>"Usado $".concat(e,", subscription $").concat(t),IsChecking:"Comprobando...",Check:"Comprobar de nuevo",NoAccess:"Introduzca la clave API para comprobar el saldo"},AccessCode:{Title:"C\xf3digo de acceso",SubTitle:"Control de acceso habilitado",Placeholder:"Necesita c\xf3digo de acceso"},Model:"Modelo",Temperature:{Title:"Temperatura",SubTitle:"Un valor mayor genera una salida m\xe1s aleatoria"},MaxTokens:{Title:"M\xe1ximo de tokens",SubTitle:"Longitud m\xe1xima de tokens de entrada y tokens generados"},PresencePenlty:{Title:"Penalizaci\xf3n de presencia",SubTitle:"Un valor mayor aumenta la probabilidad de hablar sobre nuevos temas"}},Store:{DefaultTopic:"Nueva conversaci\xf3n",BotHello:"\xa1Hola! \xbfC\xf3mo puedo ayudarte hoy?",Error:"Algo sali\xf3 mal, por favor intenta nuevamente m\xe1s tarde.",Prompt:{History:e=>"Este es un resumen del historial del chat entre la IA y el usuario como recapitulaci\xf3n: "+e,Topic:"Por favor, genera un t\xedtulo de cuatro a cinco palabras que resuma nuestra conversaci\xf3n sin ning\xfan inicio, puntuaci\xf3n, comillas, puntos, s\xedmbolos o texto adicional. Elimina las comillas que lo envuelven.",Summarize:"Resuma nuestra discusi\xf3n brevemente en 200 caracteres o menos para usarlo como un recordatorio para futuros contextos."},ConfirmClearAll:"\xbfConfirmar para borrar todos los datos de chat y configuraci\xf3n?"},Copy:{Success:"Copiado al portapapeles",Failed:"La copia fall\xf3, por favor concede permiso para acceder al portapapeles"},Context:{Toast:e=>"With ".concat(e," contextual prompts"),Edit:"Contextual and Memory Prompts",Add:"Add One"}},it:{WIP:"Work in progress...",Error:{Unauthorized:"Accesso non autorizzato, inserire il codice di accesso nella pagina delle impostazioni."},ChatItem:{ChatItemCount:e=>"".concat(e," messaggi")},Chat:{SubTitle:e=>"".concat(e," messaggi con ChatGPT"),Actions:{ChatList:"Vai alla Chat List",CompressedHistory:"Prompt di memoria della cronologia compressa",Export:"Esportazione di tutti i messaggi come Markdown",Copy:"Copia",Stop:"Stop",Retry:"Riprova"},Rename:"Rinomina Chat",Typing:"Typing…",Input:e=>{var t="Scrivi qualcosa e premi ".concat(e," per inviare");return e===String(o.mQ.Enter)&&(t+=", premi Shift + Enter per andare a capo"),t},Send:"Invia"},Export:{Title:"Tutti i messaggi",Copy:"Copia tutto",Download:"Scarica",MessageFromYou:"Messaggio da te",MessageFromChatGPT:"Messaggio da ChatGPT"},Memory:{Title:"Prompt di memoria",EmptyContent:"Vuoto.",Copy:"Copia tutto",Send:"Send Memory",Reset:"Reset Session",ResetConfirm:"Resetting will clear the current conversation history and historical memory. Are you sure you want to reset?"},Home:{NewChat:"Nuova Chat",DeleteChat:"Confermare la cancellazione della conversazione selezionata?",DeleteToast:"Chat Deleted",Revert:"Revert"},Settings:{Title:"Impostazioni",SubTitle:"Tutte le impostazioni",Actions:{ClearAll:"Cancella tutti i dati",ResetAll:"Resetta tutte le impostazioni",Close:"Chiudi"},Lang:{Name:"Lingue",Options:{cn:"简体中文",en:"English",tw:"繁體中文",es:"Espa\xf1ol",it:"Italiano"}},Avatar:"Avatar",FontSize:{Title:"Dimensione carattere",SubTitle:"Regolare la dimensione dei caratteri del contenuto della chat"},Update:{Version:e=>"Versione: ".concat(e),IsLatest:"Ultima versione",CheckUpdate:"Controlla aggiornamenti",IsChecking:"Sto controllando gli aggiornamenti...",FoundUpdate:e=>"Trovata nuova versione: ".concat(e),GoToUpdate:"Aggiorna"},SendKey:"Tasto invia",Theme:"tema",TightBorder:"Bordi stretti",SendPreviewBubble:"Invia l'anteprima della bolla",Prompt:{Disable:{Title:"Disabilita l'auto completamento",SubTitle:"Input / per attivare il completamento automatico"},List:"Elenco dei suggerimenti",ListCount:(e,t)=>"".concat(e," built-in, ").concat(t," user-defined"),Edit:"Modifica"},HistoryCount:{Title:"Conteggio dei messaggi allegati",SubTitle:"Numero di messaggi inviati allegati per richiesta"},CompressThreshold:{Title:"Soglia di compressione della cronologia",SubTitle:"Comprimer\xe0 se la lunghezza dei messaggi non compressi supera il valore"},Token:{Title:"Chiave API",SubTitle:"Utilizzare la chiave per ignorare il limite del codice di accesso",Placeholder:"OpenAI API Key"},Usage:{Title:"Bilancio Account",SubTitle:(e,t)=>"Usato in questo mese $".concat(e,", subscription $").concat(t),IsChecking:"Controllando...",Check:"Controlla ancora",NoAccess:"Inserire la chiave API per controllare il saldo"},AccessCode:{Title:"Codice d'accesso",SubTitle:"Controllo d'accesso abilitato",Placeholder:"Inserisci il codice d'accesso"},Model:"Modello GPT",Temperature:{Title:"Temperature",SubTitle:"Un valore maggiore rende l'output pi\xf9 casuale"},MaxTokens:{Title:"Token massimi",SubTitle:"Lunghezza massima dei token in ingresso e dei token generati"},PresencePenlty:{Title:"Penalit\xe0 di presenza",SubTitle:"Un valore maggiore aumenta la probabilit\xe0 di parlare di nuovi argomenti"}},Store:{DefaultTopic:"Nuova conversazione",BotHello:"Ciao, come posso aiutarti oggi?",Error:"Qualcosa \xe8 andato storto, riprova pi\xf9 tardi.",Prompt:{History:e=>"Questo \xe8 un riassunto della cronologia delle chat tra l'IA e l'utente:"+e,Topic:"Si prega di generare un titolo di quattro o cinque parole che riassuma la nostra conversazione senza alcuna traccia, punteggiatura, virgolette, punti, simboli o testo aggiuntivo. Rimuovere le virgolette",Summarize:"Riassumi brevemente la nostra discussione in 200 caratteri o meno per usarla come spunto per una futura conversazione."},ConfirmClearAll:"Confermi la cancellazione di tutti i dati della chat e delle impostazioni?"},Copy:{Success:"Copiato sugli appunti",Failed:"Copia fallita, concedere l'autorizzazione all'accesso agli appunti"},Context:{Toast:e=>"Con ".concat(e," prompts contestuali"),Edit:"Prompt contestuali e di memoria",Add:"Aggiungi altro"}}}[s()]},2508:function(e,t,n){"use strict";n.r(t),Array.prototype.at||(Array.prototype.at=function(e){let t=this.length;if(e<0&&(e=t+e),!(e<0)&&!(e>=t))return Array.prototype.slice.call(this,e,e+1)[0]})},6602:function(e,t,n){"use strict";n.d(t,{b6:function(){return c},qd:function(){return u},u4:function(){return m},yY:function(){return d}});var o=n(345),a=n(3822);let r=(e,t)=>{let n=e.map(e=>({role:e.role,content:e.content}));(null==t?void 0:t.filterBot)&&(n=n.filter(e=>"assistant"!==e.role));let a={...o.aK.getState().config.modelConfig};return delete a.max_tokens,{messages:n,stream:null==t?void 0:t.stream,...a}};function s(){let e=o._X.getState(),t={};return e.enabledAccessControl()&&(t["access-code"]=e.accessCode),e.token&&e.token.length>0&&(t.token=e.token),t}function i(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"POST";return fetch("/api/openai?_vercel_no_cache=1",{method:n,headers:{"Content-Type":"application/json",path:e,...s()},body:t&&JSON.stringify(t)})}}async function l(e){let t=r(e,{filterBot:!0}),n=await i("v1/chat/completions")(t);try{let e=await n.json();return e}catch(e){console.error("[Request Chat] ",e,n.body)}}async function c(){let e=e=>"".concat(e.getFullYear(),"-").concat((e.getMonth()+1).toString().padStart(2,"0"),"-").concat(e.getDate().toString().padStart(2,"0")),t=new Date(Date.now()+1728e5),n=new Date(t.getFullYear(),t.getMonth(),1),o=e(n),r=e(t),[s,l]=await Promise.all([i("dashboard/billing/usage?start_date=".concat(o,"&end_date=").concat(r))(null,"GET"),i("dashboard/billing/subscription")(null,"GET")]),c=await s.json(),d=await l.json();if(c.error&&c.error.type){(0,a.CF)(c.error.message);return}return c.total_usage&&(c.total_usage=Math.round(c.total_usage)/100),{used:c.total_usage,subscription:d.hard_limit_usd}}async function d(e,t){let n=r(e,{stream:!0,filterBot:null==t?void 0:t.filterBot});console.log("[Request] ",n);let o=new AbortController,a=setTimeout(()=>o.abort(),3e4);try{let e=await fetch("/api/chat-stream",{method:"POST",headers:{"Content-Type":"application/json",path:"v1/chat/completions",...s()},body:JSON.stringify(n),signal:o.signal});clearTimeout(a);let r="",c=()=>{null==t||t.onMessage(r,!0),o.abort()};if(e.ok){var i,l;let n=null===(i=e.body)||void 0===i?void 0:i.getReader(),a=new TextDecoder;for(null==t||null===(l=t.onController)||void 0===l||l.call(t,o);;){let e=setTimeout(()=>c(),3e4),o=await (null==n?void 0:n.read());clearTimeout(e);let s=a.decode(null==o?void 0:o.value);r+=s;let i=!o||o.done;if(null==t||t.onMessage(r,!1),i)break}c()}else 401===e.status?(console.error("Anauthorized"),null==t||t.onError(Error("Anauthorized"),e.status)):(console.error("Stream Error",e.body),null==t||t.onError(Error("Stream Error"),e.status))}catch(e){console.error("NetWork Error",e),null==t||t.onError(e)}}async function u(e,t){var n,o,a,r;e=e.concat([{role:"user",content:t,date:new Date().toLocaleString()}]);let s=await l(e);return null!==(r=null===(n=null==s?void 0:null===(o=s.choices)||void 0===o?void 0:o.at(0))||void 0===n?void 0:null===(a=n.message)||void 0===a?void 0:a.content)&&void 0!==r?r:""}let m={controllers:{},addController(e,t,n){let o=this.key(e,t);return this.controllers[o]=n,o},stop(e,t){let n=this.key(e,t),o=this.controllers[n];null==o||o.abort()},remove(e,t){let n=this.key(e,t);delete this.controllers[n]},key:(e,t)=>"".concat(e,",").concat(t)}},2981:function(e,t,n){"use strict";n.d(t,{K$:function(){return p},Q2:function(){return s},aK:function(){return y},mQ:function(){return r},tn:function(){return h},ux:function(){return v}});var o,a,r,s,i=n(2561),l=n(4475),c=n(6602),d=n(1777),u=n(3648),m=n(3822);function h(e){return{id:Date.now(),date:new Date().toLocaleString(),role:"user",content:"",...e}}(o=r||(r={})).Enter="Enter",o.CtrlEnter="Ctrl + Enter",o.ShiftEnter="Shift + Enter",o.AltEnter="Alt + Enter",o.MetaEnter="Meta + Enter",(a=s||(s={})).Auto="auto",a.Dark="dark",a.Light="light";let p=["system","user","assistant"],g={historyMessageCount:4,compressMessageLengthThreshold:1e3,sendBotMessages:!0,submitKey:r.CtrlEnter,avatar:"1f603",fontSize:14,theme:s.Auto,tightBorder:!1,sendPreviewBubble:!0,disablePromptHint:!1,modelConfig:{model:"gpt-3.5-turbo",temperature:1,max_tokens:2e3,presence_penalty:0}},f=u.ZP.Store.DefaultTopic,v=h({role:"assistant",content:u.ZP.Store.BotHello});function _(){let e=new Date().toLocaleString();return{id:Date.now(),topic:f,sendMemory:!0,memoryPrompt:"",context:[],messages:[],stat:{tokenCount:0,wordCount:0,charCount:0},lastUpdate:e,lastSummarizeIndex:0}}function b(e){return e.reduce((e,t)=>e+t.content.length,0)}let y=(0,i.Ue)()((0,l.tJ)((e,t)=>({sessions:[_()],currentSessionIndex:0,config:{...g},clearSessions(){e(()=>({sessions:[_()],currentSessionIndex:0}))},resetConfig(){e(()=>({config:{...g}}))},getConfig:()=>t().config,updateConfig(n){let o=t().config;n(o),e(()=>({config:o}))},selectSession(t){e({currentSessionIndex:t})},removeSession(t){e(e=>{let n=e.currentSessionIndex,o=e.sessions;return 1===o.length?{currentSessionIndex:0,sessions:[_()]}:(o.splice(t,1),n===t&&(n-=1),{currentSessionIndex:n,sessions:o})})},moveSession(t,n){e(e=>{let{sessions:o,currentSessionIndex:a}=e,r=[...o],s=r[t];r.splice(t,1),r.splice(n,0,s);let i=a===t?n:a;return a>t&&a<=n?i-=1:a<t&&a>=n&&(i+=1),{currentSessionIndex:i,sessions:r}})},newSession(){e(e=>({currentSessionIndex:0,sessions:[_()].concat(e.sessions)}))},deleteSession(){let n=t().currentSession(),o=t().currentSessionIndex,a=1===t().sessions.length;(!(0,d.Av)()||confirm(u.ZP.Home.DeleteChat))&&(t().removeSession(o),(0,m.CF)(u.ZP.Home.DeleteToast,{text:u.ZP.Home.Revert,onClick(){e(e=>({sessions:e.sessions.slice(0,o).concat([n]).concat(e.sessions.slice(o+Number(a)))}))}}))},currentSession(){let n=t().currentSessionIndex,o=t().sessions;(n<0||n>=o.length)&&(n=Math.min(o.length-1,Math.max(0,n)),e(()=>({currentSessionIndex:n})));let a=o[n];return a},onNewMessage(e){t().updateCurrentSession(e=>{e.lastUpdate=new Date().toLocaleString()}),t().updateStat(e),t().summarizeSession()},async onUserInput(n){let o=h({role:"user",content:n}),a=h({role:"assistant",streaming:!0}),r=t().getMessagesWithMemory(),s=r.concat(o),i=t().currentSessionIndex,l=t().currentSession().messages.length+1;t().updateCurrentSession(e=>{e.messages.push(o),e.messages.push(a)}),console.log("[User Input] ",s),(0,c.yY)(s,{onMessage(n,o){if(o){var r;a.streaming=!1,a.content=n,t().onNewMessage(a),c.u4.remove(i,null!==(r=a.id)&&void 0!==r?r:l)}else a.content=n,e(()=>({}))},onError(t,n){var r;401===n?a.content=u.ZP.Error.Unauthorized:a.content+="\n\n"+u.ZP.Store.Error,a.streaming=!1,o.isError=!0,a.isError=!0,e(()=>({})),c.u4.remove(i,null!==(r=a.id)&&void 0!==r?r:l)},onController(e){var t;c.u4.addController(i,null!==(t=a.id)&&void 0!==t?t:l,e)},filterBot:!t().config.sendBotMessages,modelConfig:t().config.modelConfig})},getMemoryPrompt(){let e=t().currentSession();return{role:"system",content:u.ZP.Store.Prompt.History(e.memoryPrompt),date:""}},getMessagesWithMemory(){let e=t().currentSession(),n=t().config,o=e.messages.filter(e=>!e.isError),a=o.length,r=e.context.slice();if(e.sendMemory&&e.memoryPrompt&&e.memoryPrompt.length>0){let e=t().getMemoryPrompt();r.push(e)}let s=r.concat(o.slice(Math.max(0,a-n.historyMessageCount)));return s},updateMessage(n,o,a){let r=t().sessions,s=r.at(n),i=null==s?void 0:s.messages;a(null==i?void 0:i.at(o)),e(()=>({sessions:r}))},resetSession(){t().updateCurrentSession(e=>{e.messages=[],e.memoryPrompt=""})},summarizeSession(){var e,n,o;let a=t().currentSession();a.topic===f&&b(a.messages)>=50&&(0,c.qd)(a.messages,u.ZP.Store.Prompt.Topic).then(e=>{t().updateCurrentSession(t=>t.topic=e?(0,d.ez)(e):f)});let r=t().config,s=a.messages.slice(a.lastSummarizeIndex),i=b(s);if(i>(null===(e=t().config)||void 0===e?void 0:null===(n=e.modelConfig)||void 0===n?void 0:n.max_tokens)){let e=s.length;s=s.slice(Math.max(0,e-r.historyMessageCount))}s.unshift(t().getMemoryPrompt());let l=a.messages.length;console.log("[Chat History] ",s,i,r.compressMessageLengthThreshold),i>r.compressMessageLengthThreshold&&(0,c.yY)(s.concat({role:"system",content:u.ZP.Store.Prompt.Summarize,date:""}),{filterBot:!1,onMessage(e,t){a.memoryPrompt=e,t&&(console.log("[Memory] ",a.memoryPrompt),a.lastSummarizeIndex=l)},onError(e){console.error("[Summarize] ",e)}})},updateStat(e){t().updateCurrentSession(t=>{t.stat.charCount+=e.content.length})},updateCurrentSession(n){let o=t().sessions,a=t().currentSessionIndex;n(o[a]),e(()=>({sessions:o}))},clearAllData(){confirm(u.ZP.Store.ConfirmClearAll)&&(localStorage.clear(),location.reload())}}),{name:"chat-next-web-store",version:1.2,migrate:(e,t)=>(1===t&&e.sessions.forEach(e=>e.context=[]),t<1.2&&e.sessions.forEach(e=>e.sendMemory=!0),e)}))},345:function(e,t,n){"use strict";n.d(t,{ux:function(){return o.ux},K$:function(){return o.K$},mQ:function(){return o.mQ},Q2:function(){return o.Q2},tn:function(){return o.tn},_X:function(){return c},aK:function(){return o.aK},u2:function(){return l}});var o=n(2981),a=n(2561),r=n(4475),s=n(4240),i=n(1777);let l=(0,a.Ue)()((0,r.tJ)((e,t)=>({lastUpdate:0,remoteId:"",async getLatestCommitId(){let n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=Date.now()-t().lastUpdate>6e5;if(!(n||o))return(0,i.w1)();try{let t=await (await fetch(s.TE)).json(),n=t[0].sha.substring(0,7);return e(()=>({lastUpdate:Date.now(),remoteId:n})),console.log("[Got Upstream] ",n),n}catch(e){return console.error("[Fetch Upstream Commit Id]",e),(0,i.w1)()}}}),{name:"chat-update",version:1})),c=(0,a.Ue)()((0,r.tJ)((e,t)=>({token:"",accessCode:"",enabledAccessControl:()=>"enabled"===(0,i.ep)("access"),updateCode(t){e(e=>({accessCode:t}))},updateToken(t){e(e=>({token:t}))}}),{name:"access-control",version:1}))},9199:function(e,t,n){"use strict";n.d(t,{f5:function(){return l},oD:function(){return i}});var o=n(2561),a=n(4475),r=n(184),s=n(3648);let i={ready:!1,engine:new r.Z([],{keys:["title"]}),count:{builtin:0},allBuiltInPrompts:[],init(e){this.ready||(this.allBuiltInPrompts=e,this.engine.setCollection(e),this.ready=!0)},remove(e){this.engine.remove(t=>t.id===e)},add(e){this.engine.add(e)},search(e){let t=this.engine.search(e);return t.map(e=>e.item)}},l=(0,o.Ue)()((0,a.tJ)((e,t)=>({latestId:0,prompts:new Map,add(n){let o=t().prompts;return n.id=t().latestId+1,o.set(n.id,n),e(()=>({latestId:n.id,prompts:o})),n.id},remove(n){let o=t().prompts;o.delete(n),i.remove(n),e(()=>({prompts:o}))},search(e){if(0===e.length){var n,o,a;let e=null!==(a=null===(n=t().prompts)||void 0===n?void 0:null===(o=n.values)||void 0===o?void 0:o.call(n))&&void 0!==a?a:[];return i.allBuiltInPrompts.concat([...e])}return i.search(e)}}),{name:"prompt-store",version:1,onRehydrateStorage(e){fetch("./prompts.json").then(e=>e.json()).then(t=>{var n,o;let a=[t.en,t.cn];"cn"===(0,s.VQ)()&&(a=a.reverse());let r=a.map(e=>e.map(e=>{let[t,n]=e;return{title:t,content:n}})).concat([...null!==(o=null==e?void 0:null===(n=e.prompts)||void 0===n?void 0:n.values())&&void 0!==o?o:[]]),l=r.reduce((e,t)=>e.concat(t),[]);i.count.builtin=t.en.length+t.cn.length,i.init(l)})}}))},1777:function(e,t,n){"use strict";let o;n.d(t,{Av:function(){return l},Ri:function(){return c},ep:function(){return d},ez:function(){return s},lx:function(){return p},qc:function(){return m},vQ:function(){return i},w1:function(){return u}});var a=n(3822),r=n(3648);function s(e){return e.replace(/[，。！？”“"、,.!?]*$/,"")}async function i(e){try{await navigator.clipboard.writeText(e),(0,a.CF)(r.ZP.Copy.Success)}catch(n){let t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy"),(0,a.CF)(r.ZP.Copy.Success)}catch(e){(0,a.CF)(r.ZP.Copy.Failed)}document.body.removeChild(t)}}function l(){return window.innerWidth<=600}function c(e,t){let n=window.getSelection();return(null==n?void 0:n.type)!=="Range"&&(i(t),!0)}function d(e,t){let n;if(document){var o;let t=document.head.querySelector("meta[name='".concat(e,"']"));n=null!==(o=null==t?void 0:t.content)&&void 0!==o?o:""}else n=null!=t?t:"";return n}function u(){return o||(o=d("version"))}function m(e,t){return"https://cdn.staticfile.org/emoji-datasource-apple/14.0.0/img/".concat(t,"/64/").concat(e,".png")}function h(e,t){let n=document.getElementById(e);return n||((n=document.createElement("span")).style.position="absolute",n.style.wordBreak="break-word",n.style.fontSize="14px",n.style.transform="translateY(-200vh)",n.style.pointerEvents="none",n.style.opacity="0",n.id=e,document.body.appendChild(n),null==t||t(n)),n}function p(e){let t=h("__measure"),n=h("__single_measure",e=>{e.innerText="TEXT_FOR_MEASURE"}),o=function(e){let t=window.getComputedStyle(e),n=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),o=e.clientWidth-n;return o}(e);t.style.width=o+"px",t.innerHTML=e.value.trim().length>0?e.value:"1";let a=Math.max(0,e.value.split("\n").length-1),r=parseFloat(window.getComputedStyle(t).height),s=parseFloat(window.getComputedStyle(n).height);return Math.round(r/s)+a}}},function(e){e.O(0,[774,948,455,744],function(){return e(e.s=47)}),_N_E=e.O()}]);