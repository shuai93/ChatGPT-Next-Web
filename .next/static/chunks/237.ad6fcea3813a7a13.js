(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[237,791],{9791:function(e,t,n){"use strict";t.Z=function(){for(var e,t,n=0,s="";n<arguments.length;)(e=arguments[n++])&&(t=function e(t){var n,s,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t){if(Array.isArray(t))for(n=0;n<t.length;n++)t[n]&&(s=e(t[n]))&&(i&&(i+=" "),i+=s);else for(n in t)t[n]&&(i&&(i+=" "),i+=n)}return i}(e))&&(s&&(s+=" "),s+=t);return s}},8438:function(e){e.exports={"input-range":"input-range_input-range__QBkD1"}},8297:function(e){e.exports={"window-header":"settings_window-header__w7XTu","window-header-title":"settings_window-header-title__fmVkZ","window-header-main-title":"settings_window-header-main-title__7Ns_y","window-header-sub-title":"settings_window-header-sub-title__KdcZf","window-actions":"settings_window-actions__Yr5r3","window-action-button":"settings_window-action-button__qv6O1",settings:"settings_settings__dC7Vo","settings-title":"settings_settings-title__2ADwu","settings-sub-title":"settings_settings-sub-title__m9yD8",avatar:"settings_avatar__yApsT","password-input":"settings_password-input__Y6OWC","password-eye":"settings_password-eye__yIfSb"}},7499:function(e,t,n){"use strict";n.r(t),n.d(t,{Settings:function(){return U}});var s,i,r,a,l,o,c=n(9268),d=n(6006),u=n(3031),h=n(8297),g=n.n(h),m=n(6254);function p(){return(p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var v=function(e){return m.createElement("svg",p({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},e),s||(s=m.createElement("defs",null,m.createElement("path",{id:"reload_svg__a",d:"M0 0h16v16H0z"}))),m.createElement("g",null,i||(i=m.createElement("mask",{id:"reload_svg__b",fill:"#fff"},m.createElement("use",{xlinkHref:"#reload_svg__a"}))),m.createElement("g",{mask:"url(#reload_svg__b)"},m.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(14 2.667)",d:"M0 0v5.33"}),m.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(2 8)",d:"M0 0v5.33"}),m.createElement("path",{style:{stroke:"#333",strokeWidth:1.333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(2 2)",d:"M12.003 6a6.005 6.005 0 0 0-10.32-4.17M0 6a6.005 6.005 0 0 0 10.17 4.32"}))))},x=n(5520);function f(){return(f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var j=function(e){return m.createElement("svg",f({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},e),r||(r=m.createElement("defs",null,m.createElement("path",{id:"edit_svg__a",d:"M0 0h16v16H0z"}))),m.createElement("g",null,a||(a=m.createElement("mask",{id:"edit_svg__b",fill:"#fff"},m.createElement("use",{xlinkHref:"#edit_svg__a"}))),m.createElement("g",{mask:"url(#edit_svg__b)"},m.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(10.5 11)",d:"M2.83 0v3c0 .37-.3.67-.66.67H0"}),m.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(2.667 1.333)",d:"M10.67 4V.67c0-.37-.3-.67-.67-.67H.67C.3 0 0 .3 0 .67v12c0 .36.3.66.67.66h2"}),m.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(5.333 5.333)",d:"M0 0h4.67"}),m.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(7.667 7.667)",d:"m0 7 5.67-7"}),m.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(5.333 8)",d:"M0 0h2.67"}))))};function b(){return(b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var w=function(e){return m.createElement("svg",b({width:800,height:800,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),l||(l=m.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.301 15.577C4.778 14.268 3.691 12.773 3.18 12c.51-.773 1.598-2.268 3.121-3.577C7.874 7.072 9.816 6 12 6c2.184 0 4.126 1.072 5.699 2.423 1.523 1.309 2.61 2.804 3.121 3.577-.51.773-1.598 2.268-3.121 3.577C16.126 16.928 14.184 18 12 18c-2.184 0-4.126-1.072-5.699-2.423ZM12 4C9.148 4 6.757 5.395 4.998 6.906c-1.765 1.517-2.99 3.232-3.534 4.064a1.876 1.876 0 0 0 0 2.06c.544.832 1.769 2.547 3.534 4.064C6.758 18.605 9.148 20 12 20c2.852 0 5.243-1.395 7.002-2.906 1.765-1.517 2.99-3.232 3.534-4.064.411-.628.411-1.431 0-2.06-.544-.832-1.769-2.547-3.534-4.064C17.242 5.395 14.852 4 12 4Zm-2 8a2 2 0 1 1 4 0 2 2 0 0 1-4 0Zm2-4a4 4 0 1 0 0 8 4 4 0 0 0 0-8Z",fill:"#000"})))};function k(){return(k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var y=function(e){return m.createElement("svg",k({width:800,height:800,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),o||(o=m.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.707 5.707a1 1 0 0 0-1.414-1.414l-4.261 4.26a4 4 0 0 0-5.478 5.478l-4.261 4.262a1 1 0 1 0 1.414 1.414l4.261-4.26a4 4 0 0 0 5.478-5.478l4.261-4.262Zm-7.189 4.36a2 2 0 0 0-2.45 2.45l2.45-2.45Zm-1.036 3.865 2.45-2.45a2 2 0 0 1-2.45 2.45Zm4.283-9.111C14.63 4.32 13.367 4 12 4 9.148 4 6.757 5.395 4.998 6.906c-1.765 1.517-2.99 3.232-3.534 4.064a1.876 1.876 0 0 0 0 2.06 20.304 20.304 0 0 0 2.748 3.344l1.414-1.414A18.315 18.315 0 0 1 3.18 12c.51-.773 1.598-2.268 3.121-3.577C7.874 7.072 9.816 6 12 6a7.06 7.06 0 0 1 2.22.367l1.545-1.546ZM12 18a7.06 7.06 0 0 1-2.22-.367L8.236 19.18c1.136.5 2.398.821 3.765.821 2.852 0 5.243-1.395 7.002-2.906 1.765-1.517 2.99-3.232 3.534-4.064.411-.628.411-1.431 0-2.06a20.303 20.303 0 0 0-2.748-3.344L18.374 9.04A18.312 18.312 0 0 1 20.82 12c-.51.773-1.598 2.268-3.121 3.577C16.126 16.928 14.184 18 12 18Z",fill:"#000"})))},_=n(3822),S=n(2383),C=n(345),P=n(6694),T=n(3648),Z=n(1777),E=n(9199),O=n(6602),N=n(2650),M=n(8438),A=n.n(M);function D(e){let{onChange:t,title:n,value:s,className:i,min:r,max:a,step:l}=e;return(0,c.jsxs)("div",{className:A()["input-range"]+" ".concat(null!=i?i:""),children:[n||s,(0,c.jsx)("input",{type:"range",title:n,value:s,min:r,max:a,step:l,onChange:t})]})}function L(e){return(0,c.jsxs)(_.HC,{children:[(0,c.jsxs)("div",{className:g()["settings-title"],children:[(0,c.jsx)("div",{children:e.title}),e.subTitle&&(0,c.jsx)("div",{className:g()["settings-sub-title"],children:e.subTitle})]}),e.children]})}function H(e){let[t,n]=(0,d.useState)(!1);return(0,c.jsxs)("div",{className:g()["password-input"],children:[(0,c.jsx)(S.h,{icon:t?(0,c.jsx)(w,{}):(0,c.jsx)(y,{}),onClick:function(){n(!t)},className:g()["password-eye"]}),(0,c.jsx)("input",{...e,type:t?"text":"password"})]})}function U(e){var t,n,s,i,r,a;let[l,o]=(0,d.useState)(!1),[h,m,p,f,b]=(0,C.aK)(e=>[e.config,e.updateConfig,e.resetConfig,e.clearAllData,e.clearSessions]),w=(0,C.u2)(),[k,y]=(0,d.useState)(!1),M=(0,Z.w1)(),A=w.remoteId,[U,W]=(0,d.useState)(),[z,B]=(0,d.useState)(!1);function V(){B(!0),(0,O.b6)().then(e=>W(e)).finally(()=>{B(!1)})}let F=(0,C._X)(),I=(0,d.useMemo)(()=>F.enabledAccessControl(),[]),X=(0,E.f5)(),R=E.oD.count.builtin,K=null!==(s=X.prompts.size)&&void 0!==s?s:0,Q=!!F.token||!!F.accessCode;return(0,d.useEffect)(()=>{(function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];y(!0),w.getLatestCommitId(e).then(()=>{y(!1)})})(),Q&&V()},[]),(0,d.useEffect)(()=>{let t=t=>{"Escape"===t.key&&e.closeSettings()};return document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)}},[]),(0,c.jsxs)(N.S,{children:[(0,c.jsxs)("div",{className:g()["window-header"],children:[(0,c.jsxs)("div",{className:g()["window-header-title"],children:[(0,c.jsx)("div",{className:g()["window-header-main-title"],children:T.ZP.Settings.Title}),(0,c.jsx)("div",{className:g()["window-header-sub-title"],children:T.ZP.Settings.SubTitle})]}),(0,c.jsx)("div",{className:g()["window-actions"],children:(0,c.jsx)("div",{className:g()["window-action-button"],children:(0,c.jsx)(S.h,{icon:(0,c.jsx)(x.Z,{}),onClick:e.closeSettings,bordered:!0,title:T.ZP.Settings.Actions.Close})})})]}),(0,c.jsxs)("div",{className:g().settings,children:[(0,c.jsxs)(_.aV,{children:[(0,c.jsx)(L,{title:T.ZP.Settings.Avatar,children:(0,c.jsx)(_.J2,{onClose:()=>o(!1),content:(0,c.jsx)(u.default,{lazyLoadEmojis:!0,theme:u.Theme.AUTO,getEmojiUrl:Z.qc,onEmojiClick:e=>{m(t=>t.avatar=e.unified),o(!1)}}),open:l,children:(0,c.jsx)("div",{className:g().avatar,onClick:()=>o(!0),children:(0,c.jsx)(P.qE,{role:"user"})})})}),(0,c.jsx)(L,{title:T.ZP.Settings.Update.Version(M),subTitle:k?T.ZP.Settings.Update.IsChecking:M!==A?T.ZP.Settings.Update.FoundUpdate(null!=A?A:"ERROR"):T.ZP.Settings.Update.IsLatest,children:(0,c.jsx)(c.Fragment,{})}),(0,c.jsx)(L,{title:T.ZP.Settings.SendKey,children:(0,c.jsx)("select",{value:h.submitKey,onChange:e=>{m(t=>t.submitKey=e.target.value)},children:Object.values(C.mQ).map(e=>(0,c.jsx)("option",{value:e,children:e},e))})}),(0,c.jsxs)(_.HC,{children:[(0,c.jsx)("div",{className:g()["settings-title"],children:T.ZP.Settings.Theme}),(0,c.jsx)("select",{value:h.theme,onChange:e=>{m(t=>t.theme=e.target.value)},children:Object.values(C.Q2).map(e=>(0,c.jsx)("option",{value:e,children:e},e))})]}),(0,c.jsx)(L,{title:T.ZP.Settings.Lang.Name,children:(0,c.jsx)("select",{value:(0,T.VQ)(),onChange:e=>{(0,T.t4)(e.target.value)},children:T.DC.map(e=>(0,c.jsx)("option",{value:e,children:T.ZP.Settings.Lang.Options[e]},e))})}),(0,c.jsx)(L,{title:T.ZP.Settings.FontSize.Title,subTitle:T.ZP.Settings.FontSize.SubTitle,children:(0,c.jsx)(D,{title:"".concat(null!==(i=h.fontSize)&&void 0!==i?i:14,"px"),value:h.fontSize,min:"12",max:"18",step:"1",onChange:e=>m(t=>t.fontSize=Number.parseInt(e.currentTarget.value))})}),(0,c.jsx)(L,{title:T.ZP.Settings.TightBorder,children:(0,c.jsx)("input",{type:"checkbox",checked:h.tightBorder,onChange:e=>m(t=>t.tightBorder=e.currentTarget.checked)})}),(0,c.jsx)(L,{title:T.ZP.Settings.SendPreviewBubble,children:(0,c.jsx)("input",{type:"checkbox",checked:h.sendPreviewBubble,onChange:e=>m(t=>t.sendPreviewBubble=e.currentTarget.checked)})})]}),(0,c.jsxs)(_.aV,{children:[(0,c.jsx)(L,{title:T.ZP.Settings.Prompt.Disable.Title,subTitle:T.ZP.Settings.Prompt.Disable.SubTitle,children:(0,c.jsx)("input",{type:"checkbox",checked:h.disablePromptHint,onChange:e=>m(t=>t.disablePromptHint=e.currentTarget.checked)})}),(0,c.jsx)(L,{title:T.ZP.Settings.Prompt.List,subTitle:T.ZP.Settings.Prompt.ListCount(R,K),children:(0,c.jsx)(S.h,{icon:(0,c.jsx)(j,{}),text:T.ZP.Settings.Prompt.Edit,onClick:()=>(0,_.CF)(T.ZP.WIP)})})]}),(0,c.jsxs)(_.aV,{children:[I?(0,c.jsx)(L,{title:T.ZP.Settings.AccessCode.Title,subTitle:T.ZP.Settings.AccessCode.SubTitle,children:(0,c.jsx)(H,{value:F.accessCode,type:"text",placeholder:T.ZP.Settings.AccessCode.Placeholder,onChange:e=>{F.updateCode(e.currentTarget.value)}})}):(0,c.jsx)(c.Fragment,{}),(0,c.jsx)(L,{title:T.ZP.Settings.Token.Title,subTitle:T.ZP.Settings.Token.SubTitle,children:(0,c.jsx)(H,{value:F.token,type:"text",placeholder:T.ZP.Settings.Token.Placeholder,onChange:e=>{F.updateToken(e.currentTarget.value)}})}),(0,c.jsx)(L,{title:T.ZP.Settings.Usage.Title,subTitle:Q?z?T.ZP.Settings.Usage.IsChecking:T.ZP.Settings.Usage.SubTitle(null!==(r=null==U?void 0:U.used)&&void 0!==r?r:"[?]",null!==(a=null==U?void 0:U.subscription)&&void 0!==a?a:"[?]"):T.ZP.Settings.Usage.NoAccess,children:!Q||z?(0,c.jsx)("div",{}):(0,c.jsx)(S.h,{icon:(0,c.jsx)(v,{}),text:T.ZP.Settings.Usage.Check,onClick:V})}),(0,c.jsx)(L,{title:T.ZP.Settings.HistoryCount.Title,subTitle:T.ZP.Settings.HistoryCount.SubTitle,children:(0,c.jsx)(D,{title:h.historyMessageCount.toString(),value:h.historyMessageCount,min:"0",max:"25",step:"1",onChange:e=>m(t=>t.historyMessageCount=e.target.valueAsNumber)})}),(0,c.jsx)(L,{title:T.ZP.Settings.CompressThreshold.Title,subTitle:T.ZP.Settings.CompressThreshold.SubTitle,children:(0,c.jsx)("input",{type:"number",min:500,max:4e3,value:h.compressMessageLengthThreshold,onChange:e=>m(t=>t.compressMessageLengthThreshold=e.currentTarget.valueAsNumber)})})]}),(0,c.jsxs)(_.aV,{children:[(0,c.jsx)(L,{title:T.ZP.Settings.Model,children:(0,c.jsx)("select",{value:h.modelConfig.model,onChange:e=>{m(t=>t.modelConfig.model=C.Xm.model(e.currentTarget.value))},children:C.L.map(e=>(0,c.jsx)("option",{value:e.name,disabled:!e.available,children:e.name},e.name))})}),(0,c.jsx)(L,{title:T.ZP.Settings.Temperature.Title,subTitle:T.ZP.Settings.Temperature.SubTitle,children:(0,c.jsx)(D,{value:null===(t=h.modelConfig.temperature)||void 0===t?void 0:t.toFixed(1),min:"0",max:"2",step:"0.1",onChange:e=>{m(t=>t.modelConfig.temperature=C.Xm.temperature(e.currentTarget.valueAsNumber))}})}),(0,c.jsx)(L,{title:T.ZP.Settings.MaxTokens.Title,subTitle:T.ZP.Settings.MaxTokens.SubTitle,children:(0,c.jsx)("input",{type:"number",min:100,max:32e3,value:h.modelConfig.max_tokens,onChange:e=>m(t=>t.modelConfig.max_tokens=C.Xm.max_tokens(e.currentTarget.valueAsNumber))})}),(0,c.jsx)(L,{title:T.ZP.Settings.PresencePenlty.Title,subTitle:T.ZP.Settings.PresencePenlty.SubTitle,children:(0,c.jsx)(D,{value:null===(n=h.modelConfig.presence_penalty)||void 0===n?void 0:n.toFixed(1),min:"-2",max:"2",step:"0.5",onChange:e=>{m(t=>t.modelConfig.presence_penalty=C.Xm.presence_penalty(e.currentTarget.valueAsNumber))}})})]})]})]})}}}]);