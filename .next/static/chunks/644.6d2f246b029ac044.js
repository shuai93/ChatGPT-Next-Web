(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[644,791],{9791:function(e,t,n){"use strict";t.Z=function(){for(var e,t,n=0,s="";n<arguments.length;)(e=arguments[n++])&&(t=function e(t){var n,s,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t){if(Array.isArray(t))for(n=0;n<t.length;n++)t[n]&&(s=e(t[n]))&&(i&&(i+=" "),i+=s);else for(n in t)t[n]&&(i&&(i+=" "),i+=n)}return i}(e))&&(s&&(s+=" "),s+=t);return s}},8438:function(e){e.exports={"input-range":"input-range_input-range__QBkD1"}},8297:function(e){e.exports={"window-header":"settings_window-header__w7XTu","window-header-title":"settings_window-header-title__fmVkZ","window-header-main-title":"settings_window-header-main-title__7Ns_y","window-header-sub-title":"settings_window-header-sub-title__KdcZf","window-actions":"settings_window-actions__Yr5r3","window-action-button":"settings_window-action-button__qv6O1",settings:"settings_settings__dC7Vo","settings-title":"settings_settings-title__2ADwu","settings-sub-title":"settings_settings-sub-title__m9yD8",avatar:"settings_avatar__yApsT","password-input":"settings_password-input__Y6OWC","password-eye":"settings_password-eye__yIfSb"}},8504:function(e,t,n){"use strict";n.r(t),n.d(t,{Settings:function(){return D}});var s,i,r,a,l=n(9268),o=n(6006),c=n(3031),d=n(8297),u=n.n(d),h=n(5520),g=n(6254);function p(){return(p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var m=function(e){return g.createElement("svg",p({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},e),s||(s=g.createElement("defs",null,g.createElement("path",{id:"edit_svg__a",d:"M0 0h16v16H0z"}))),g.createElement("g",null,i||(i=g.createElement("mask",{id:"edit_svg__b",fill:"#fff"},g.createElement("use",{xlinkHref:"#edit_svg__a"}))),g.createElement("g",{mask:"url(#edit_svg__b)"},g.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(10.5 11)",d:"M2.83 0v3c0 .37-.3.67-.66.67H0"}),g.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(2.667 1.333)",d:"M10.67 4V.67c0-.37-.3-.67-.67-.67H.67C.3 0 0 .3 0 .67v12c0 .36.3.66.67.66h2"}),g.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(5.333 5.333)",d:"M0 0h4.67"}),g.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(7.667 7.667)",d:"m0 7 5.67-7"}),g.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(5.333 8)",d:"M0 0h2.67"}))))};function v(){return(v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var w=function(e){return g.createElement("svg",v({width:800,height:800,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.301 15.577C4.778 14.268 3.691 12.773 3.18 12c.51-.773 1.598-2.268 3.121-3.577C7.874 7.072 9.816 6 12 6c2.184 0 4.126 1.072 5.699 2.423 1.523 1.309 2.61 2.804 3.121 3.577-.51.773-1.598 2.268-3.121 3.577C16.126 16.928 14.184 18 12 18c-2.184 0-4.126-1.072-5.699-2.423ZM12 4C9.148 4 6.757 5.395 4.998 6.906c-1.765 1.517-2.99 3.232-3.534 4.064a1.876 1.876 0 0 0 0 2.06c.544.832 1.769 2.547 3.534 4.064C6.758 18.605 9.148 20 12 20c2.852 0 5.243-1.395 7.002-2.906 1.765-1.517 2.99-3.232 3.534-4.064.411-.628.411-1.431 0-2.06-.544-.832-1.769-2.547-3.534-4.064C17.242 5.395 14.852 4 12 4Zm-2 8a2 2 0 1 1 4 0 2 2 0 0 1-4 0Zm2-4a4 4 0 1 0 0 8 4 4 0 0 0 0-8Z",fill:"#000"})))};function f(){return(f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var x=function(e){return g.createElement("svg",f({width:800,height:800,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),a||(a=g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.707 5.707a1 1 0 0 0-1.414-1.414l-4.261 4.26a4 4 0 0 0-5.478 5.478l-4.261 4.262a1 1 0 1 0 1.414 1.414l4.261-4.26a4 4 0 0 0 5.478-5.478l4.261-4.262Zm-7.189 4.36a2 2 0 0 0-2.45 2.45l2.45-2.45Zm-1.036 3.865 2.45-2.45a2 2 0 0 1-2.45 2.45Zm4.283-9.111C14.63 4.32 13.367 4 12 4 9.148 4 6.757 5.395 4.998 6.906c-1.765 1.517-2.99 3.232-3.534 4.064a1.876 1.876 0 0 0 0 2.06 20.304 20.304 0 0 0 2.748 3.344l1.414-1.414A18.315 18.315 0 0 1 3.18 12c.51-.773 1.598-2.268 3.121-3.577C7.874 7.072 9.816 6 12 6a7.06 7.06 0 0 1 2.22.367l1.545-1.546ZM12 18a7.06 7.06 0 0 1-2.22-.367L8.236 19.18c1.136.5 2.398.821 3.765.821 2.852 0 5.243-1.395 7.002-2.906 1.765-1.517 2.99-3.232 3.534-4.064.411-.628.411-1.431 0-2.06a20.303 20.303 0 0 0-2.748-3.344L18.374 9.04A18.312 18.312 0 0 1 20.82 12c-.51.773-1.598 2.268-3.121 3.577C16.126 16.928 14.184 18 12 18Z",fill:"#000"})))},j=n(3822),b=n(2383),_=n(345),k=n(6694),y=n(3648),C=n(1777),S=n(9199),P=n(6602),Z=n(2650),E=n(8438),T=n.n(E);function O(e){let{onChange:t,title:n,value:s,className:i,min:r,max:a,step:o}=e;return(0,l.jsxs)("div",{className:T()["input-range"]+" ".concat(null!=i?i:""),children:[n||s,(0,l.jsx)("input",{type:"range",title:n,value:s,min:r,max:a,step:o,onChange:t})]})}function N(e){return(0,l.jsxs)(j.HC,{children:[(0,l.jsxs)("div",{className:u()["settings-title"],children:[(0,l.jsx)("div",{children:e.title}),e.subTitle&&(0,l.jsx)("div",{className:u()["settings-sub-title"],children:e.subTitle})]}),e.children]})}function A(e){let[t,n]=(0,o.useState)(!1);return(0,l.jsxs)("div",{className:u()["password-input"],children:[(0,l.jsx)(b.h,{icon:t?(0,l.jsx)(w,{}):(0,l.jsx)(x,{}),onClick:function(){n(!t)},className:u()["password-eye"]}),(0,l.jsx)("input",{...e,type:t?"text":"password"})]})}function D(e){var t,n;let[s,i]=(0,o.useState)(!1),[r,a,d,g,p]=(0,_.aK)(e=>[e.config,e.updateConfig,e.resetConfig,e.clearAllData,e.clearSessions]),v=(0,_.u2)(),[w,f]=(0,o.useState)(!1),x=(0,C.w1)(),E=v.remoteId,[T,D]=(0,o.useState)(),[L,M]=(0,o.useState)(!1),B=(0,_._X)(),z=(0,o.useMemo)(()=>B.enabledAccessControl(),[]),H=(0,S.f5)(),V=S.oD.count.builtin,I=null!==(t=H.prompts.size)&&void 0!==t?t:0,R=!!B.token||!!B.accessCode;return(0,o.useEffect)(()=>{(function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];f(!0),v.getLatestCommitId(e).then(()=>{f(!1)})})(),R&&(M(!0),(0,P.b6)().then(e=>D(e)).finally(()=>{M(!1)}))},[]),(0,o.useEffect)(()=>{let t=t=>{"Escape"===t.key&&e.closeSettings()};return document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)}},[]),(0,l.jsxs)(Z.S,{children:[(0,l.jsxs)("div",{className:u()["window-header"],children:[(0,l.jsxs)("div",{className:u()["window-header-title"],children:[(0,l.jsx)("div",{className:u()["window-header-main-title"],children:y.ZP.Settings.Title}),(0,l.jsx)("div",{className:u()["window-header-sub-title"],children:y.ZP.Settings.SubTitle})]}),(0,l.jsx)("div",{className:u()["window-actions"],children:(0,l.jsx)("div",{className:u()["window-action-button"],children:(0,l.jsx)(b.h,{icon:(0,l.jsx)(h.Z,{}),onClick:e.closeSettings,bordered:!0,title:y.ZP.Settings.Actions.Close})})})]}),(0,l.jsxs)("div",{className:u().settings,children:[(0,l.jsxs)(j.aV,{children:[(0,l.jsx)(N,{title:y.ZP.Settings.Avatar,children:(0,l.jsx)(j.J2,{onClose:()=>i(!1),content:(0,l.jsx)(c.default,{lazyLoadEmojis:!0,theme:c.Theme.AUTO,getEmojiUrl:C.qc,onEmojiClick:e=>{a(t=>t.avatar=e.unified),i(!1)}}),open:s,children:(0,l.jsx)("div",{className:u().avatar,onClick:()=>i(!0),children:(0,l.jsx)(k.qE,{role:"user"})})})}),(0,l.jsx)(N,{title:y.ZP.Settings.Update.Version(x),subTitle:w?y.ZP.Settings.Update.IsChecking:x!==E?y.ZP.Settings.Update.FoundUpdate(null!=E?E:"ERROR"):y.ZP.Settings.Update.IsLatest,children:(0,l.jsx)(l.Fragment,{})}),(0,l.jsx)(N,{title:y.ZP.Settings.SendKey,children:(0,l.jsx)("select",{value:r.submitKey,onChange:e=>{a(t=>t.submitKey=e.target.value)},children:Object.values(_.mQ).map(e=>(0,l.jsx)("option",{value:e,children:e},e))})}),(0,l.jsxs)(j.HC,{children:[(0,l.jsx)("div",{className:u()["settings-title"],children:y.ZP.Settings.Theme}),(0,l.jsx)("select",{value:r.theme,onChange:e=>{a(t=>t.theme=e.target.value)},children:Object.values(_.Q2).map(e=>(0,l.jsx)("option",{value:e,children:e},e))})]}),(0,l.jsx)(N,{title:y.ZP.Settings.Lang.Name,children:(0,l.jsx)("select",{value:(0,y.VQ)(),onChange:e=>{(0,y.t4)(e.target.value)},children:y.DC.map(e=>(0,l.jsx)("option",{value:e,children:y.ZP.Settings.Lang.Options[e]},e))})}),(0,l.jsx)(N,{title:y.ZP.Settings.FontSize.Title,subTitle:y.ZP.Settings.FontSize.SubTitle,children:(0,l.jsx)(O,{title:"".concat(null!==(n=r.fontSize)&&void 0!==n?n:14,"px"),value:r.fontSize,min:"12",max:"18",step:"1",onChange:e=>a(t=>t.fontSize=Number.parseInt(e.currentTarget.value))})}),(0,l.jsx)(N,{title:y.ZP.Settings.TightBorder,children:(0,l.jsx)("input",{type:"checkbox",checked:r.tightBorder,onChange:e=>a(t=>t.tightBorder=e.currentTarget.checked)})}),(0,l.jsx)(N,{title:y.ZP.Settings.SendPreviewBubble,children:(0,l.jsx)("input",{type:"checkbox",checked:r.sendPreviewBubble,onChange:e=>a(t=>t.sendPreviewBubble=e.currentTarget.checked)})})]}),(0,l.jsxs)(j.aV,{children:[(0,l.jsx)(N,{title:y.ZP.Settings.Prompt.Disable.Title,subTitle:y.ZP.Settings.Prompt.Disable.SubTitle,children:(0,l.jsx)("input",{type:"checkbox",checked:r.disablePromptHint,onChange:e=>a(t=>t.disablePromptHint=e.currentTarget.checked)})}),(0,l.jsx)(N,{title:y.ZP.Settings.Prompt.List,subTitle:y.ZP.Settings.Prompt.ListCount(V,I),children:(0,l.jsx)(b.h,{icon:(0,l.jsx)(m,{}),text:y.ZP.Settings.Prompt.Edit,onClick:()=>(0,j.CF)(y.ZP.WIP)})})]}),(0,l.jsx)(j.aV,{children:z?(0,l.jsx)(N,{title:y.ZP.Settings.AccessCode.Title,subTitle:y.ZP.Settings.AccessCode.SubTitle,children:(0,l.jsx)(A,{value:B.accessCode,type:"text",placeholder:y.ZP.Settings.AccessCode.Placeholder,onChange:e=>{B.updateCode(e.currentTarget.value)}})}):(0,l.jsx)(l.Fragment,{})})]})]})}}}]);